<!DOCTYPE html><html lang="zh-CN"><head><meta name="viewport" content="width=device-width"/><title>Next.js 踩坑记（2）——开发依赖</title><meta name="robots" content="follow, index"/><meta charSet="UTF-8"/><meta name="keywords" content="Blog, Notion, Tech, React, Vue"/><meta name="description" content="Nextjs迷踪之——我只改了github action中的NODE_ENV=’production’，为什么编译就崩了？"/><meta property="og:locale" content="zh-CN"/><meta property="og:title" content="Next.js 踩坑记（2）——开发依赖"/><meta property="og:description" content="Nextjs迷踪之——我只改了github action中的NODE_ENV=’production’，为什么编译就崩了？"/><meta property="og:url" content=""/><meta property="og:image" content="https://og-image-craigary.vercel.app/Next.js%20%E8%B8%A9%E5%9D%91%E8%AE%B0%EF%BC%882%EF%BC%89%E2%80%94%E2%80%94%E5%BC%80%E5%8F%91%E4%BE%9D%E8%B5%96.png?theme=dark&amp;md=1&amp;fontSize=125px&amp;images=https%3A%2F%2Fnobelium.vercel.app%2Flogo-for-dark-bg.svg"/><meta property="og:type" content="article"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:description" content="Nextjs迷踪之——我只改了github action中的NODE_ENV=’production’，为什么编译就崩了？"/><meta name="twitter:title" content="Next.js 踩坑记（2）——开发依赖"/><meta name="twitter:image" content="https://og-image-craigary.vercel.app/Next.js%20%E8%B8%A9%E5%9D%91%E8%AE%B0%EF%BC%882%EF%BC%89%E2%80%94%E2%80%94%E5%BC%80%E5%8F%91%E4%BE%9D%E8%B5%96.png?theme=dark&amp;md=1&amp;fontSize=125px&amp;images=https%3A%2F%2Fnobelium.vercel.app%2Flogo-for-dark-bg.svg"/><meta property="article:published_time"/><meta property="article:author" content="Musher"/><meta name="next-head-count" content="18"/><link rel="preload" href="/nobelium/fonts/IBMPlexSansVar-Roman.woff2" as="font" type="font/woff2" crossorigin="anonymous"/><link rel="preload" href="/nobelium/fonts/IBMPlexSansVar-Italic.woff2" as="font" type="font/woff2" crossorigin="anonymous"/><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"/><link rel="preload" as="style" data-href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@400;500;700&amp;display=swap"/><link rel="stylesheet" data-href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@400;500;700&amp;display=swap"/><noscript><link rel="stylesheet" data-href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@400;500;700&amp;display=swap"/></noscript><link rel="icon" href="/nobelium/favicon.svg" type="image/svg+xml"/><link rel="icon" href="/nobelium/favicon.ico"/><link rel="apple-touch-icon" sizes="192x192" href="/nobelium/apple-touch-icon.png"/><link rel="alternate" type="application/rss+xml" title="RSS 2.0" href="/nobelium/feed"/><meta name="theme-color" content="#ffffff" media="(prefers-color-scheme: light)"/><meta name="theme-color" content="#18181B" media="(prefers-color-scheme: dark)"/><link rel="preload" href="/nobelium/_next/static/css/ddbbae80d81b2f88.css" as="style"/><link rel="stylesheet" href="/nobelium/_next/static/css/ddbbae80d81b2f88.css" data-n-g=""/><link rel="preload" href="/nobelium/_next/static/css/6a5815369e10547f.css" as="style"/><link rel="stylesheet" href="/nobelium/_next/static/css/6a5815369e10547f.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/nobelium/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/nobelium/_next/static/chunks/webpack-017be00eb10a1ae1.js" defer=""></script><script src="/nobelium/_next/static/chunks/main-5b58b7da4815128c.js" defer=""></script><script src="/nobelium/_next/static/chunks/pages/_app-23af88abda291254.js" defer=""></script><script src="/nobelium/_next/static/chunks/b5f2ed29-08db60af0c3043ba.js" defer=""></script><script src="/nobelium/_next/static/chunks/684-63c1a25e215d8bed.js" defer=""></script><script src="/nobelium/_next/static/chunks/580-c0214944b9e37cce.js" defer=""></script><script src="/nobelium/_next/static/chunks/pages/%5Bslug%5D-e6f3f3c220b132e2.js" defer=""></script><script src="/nobelium/_next/static/DhM5fGmfFbXFwrDb26KFN/_buildManifest.js" defer=""></script><script src="/nobelium/_next/static/DhM5fGmfFbXFwrDb26KFN/_ssgManifest.js" defer=""></script><script src="/nobelium/_next/static/DhM5fGmfFbXFwrDb26KFN/_middlewareManifest.js" defer=""></script><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@400;500;700&display=swap"/></head><body class="bg-day dark:bg-night"><div id="__next" data-reactroot=""><div><div class="wrapper font-sans"><div class="observer-element h-4 md:h-12"></div><div class="sticky-nav m-auto w-full h-6 flex flex-row justify-between items-center mb-2 md:mb-12 py-8 bg-opacity-60 max-w-3xl px-4" id="sticky-nav"><div class="flex items-center"><a aria-label="Musher&#x27;s Frontend Coding Blog" href="/nobelium"><div class="h-6"><svg width="28" height="28" viewBox="0 0 28 28" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="14" cy="14" r="14" class="fill-current text-black dark:text-white"></circle><circle cx="14" cy="14" r="14" fill="url(#paint0_radial)"></circle><circle cx="8" cy="8" r="2" fill="white"></circle><defs><radialGradient id="paint0_radial" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="rotate(45) scale(39.598)"><stop stop-color="#7FF72A" stop-opacity="1"></stop><stop offset="1" stop-color="#001FCC" stop-opacity="0.1"></stop></radialGradient></defs></svg></div></a><p class="ml-2 font-medium text-day dark:text-night header-name">Next.js 踩坑记（2）——开发依赖</p></div><div class="flex-shrink-0"><ul class="flex flex-row"><li class="block ml-4 text-black dark:text-gray-50 nav"><a href="/nobelium/search">搜索</a></li></ul></div></div><main class="m-auto flex-grow w-full transition-all max-w-3xl px-4"><article><h1 class="font-bold text-3xl text-black dark:text-white">😶‍🌫️<!-- --> <!-- -->Next.js 踩坑记（2）——开发依赖</h1><nav class="flex mt-7 items-start text-gray-500 dark:text-gray-400"><div class="flex mb-4"><a href="#" class="flex"><span style="box-sizing:border-box;display:inline-block;overflow:hidden;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;position:relative;max-width:100%"><span style="box-sizing:border-box;display:block;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;max-width:100%"><img style="display:block;max-width:100%;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0" alt="" aria-hidden="true" src="data:image/svg+xml,%3csvg%20xmlns=%27http://www.w3.org/2000/svg%27%20version=%271.1%27%20width=%2724%27%20height=%2724%27/%3e"/></span><img alt="Musher" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="intrinsic" class="rounded-full" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%"/><noscript><img alt="Musher" srcSet="https://gravatar.com/avatar/b1403da99126eb1e1d174c7cff1f23cf?imwidth=32 1x, https://gravatar.com/avatar/b1403da99126eb1e1d174c7cff1f23cf?imwidth=48 2x" src="https://gravatar.com/avatar/b1403da99126eb1e1d174c7cff1f23cf?imwidth=48" decoding="async" data-nimg="intrinsic" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%" class="rounded-full" loading="lazy"/></noscript></span><p class="ml-2 md:block">Musher</p></a><span class="block"> / </span></div><div class="mr-2 mb-4 md:ml-0">2024 年 5 月 29 日</div><div class="flex flex-nowrap max-w-full overflow-x-auto article-tags"><a href="/nobelium/tag/Next.js"><p class="mr-1 rounded-full px-2 py-1 border leading-none text-sm dark:border-gray-600">Next.js</p></a><a href="/nobelium/tag/React"><p class="mr-1 rounded-full px-2 py-1 border leading-none text-sm dark:border-gray-600">React</p></a><a href="/nobelium/tag/Website"><p class="mr-1 rounded-full px-2 py-1 border leading-none text-sm dark:border-gray-600">Website</p></a></div><div> <img src="https://www.notion.so/images/page-cover/rijksmuseum_claesz_1628.jpg"/> </div></nav><div class="-mt-4"><main class="notion light-mode notion-page notion-block-5514a197e2664487a3ce95ae17f26bdb"><div class="notion-viewport"></div><div class="notion-collection-row"><div class="notion-collection-row-body"><div class="notion-collection-row-property"><div class="notion-collection-column-title"><svg viewBox="0 0 14 14" class="notion-collection-column-title-icon"><path d="M10.889 5.5H3.11v1.556h7.778V5.5zm1.555-4.444h-.777V0H10.11v1.056H3.89V0H2.333v1.056h-.777c-.864 0-1.548.7-1.548 1.555L0 12.5c0 .856.692 1.5 1.556 1.5h10.888C13.3 14 14 13.356 14 12.5V2.611c0-.855-.7-1.555-1.556-1.555zm0 11.444H1.556V3.944h10.888V12.5zM8.556 8.611H3.11v1.556h5.445V8.61z"></path></svg><div class="notion-collection-column-title-body">date</div></div><div class="notion-collection-row-value"><span class="notion-property notion-property-date">May 29, 2024</span></div></div><div class="notion-collection-row-property"><div class="notion-collection-column-title"><svg viewBox="0 0 14 14" class="notion-collection-column-title-icon"><path d="M7 4.568a.5.5 0 00-.5-.5h-6a.5.5 0 00-.5.5v1.046a.5.5 0 00.5.5h6a.5.5 0 00.5-.5V4.568zM.5 1a.5.5 0 00-.5.5v1.045a.5.5 0 00.5.5h12a.5.5 0 00.5-.5V1.5a.5.5 0 00-.5-.5H.5zM0 8.682a.5.5 0 00.5.5h11a.5.5 0 00.5-.5V7.636a.5.5 0 00-.5-.5H.5a.5.5 0 00-.5.5v1.046zm0 3.068a.5.5 0 00.5.5h9a.5.5 0 00.5-.5v-1.045a.5.5 0 00-.5-.5h-9a.5.5 0 00-.5.5v1.045z"></path></svg><div class="notion-collection-column-title-body">slug</div></div><div class="notion-collection-row-value"><span class="notion-property notion-property-text">dev-dependencies</span></div></div><div class="notion-collection-row-property"><div class="notion-collection-column-title"><svg viewBox="0 0 14 14" class="notion-collection-column-title-icon"><path d="M7 13A6 6 0 107 1a6 6 0 000 12zM3.751 5.323A.2.2 0 013.909 5h6.182a.2.2 0 01.158.323L7.158 9.297a.2.2 0 01-.316 0L3.751 5.323z"></path></svg><div class="notion-collection-column-title-body">status</div></div><div class="notion-collection-row-value"><span class="notion-property notion-property-select"><div class="notion-property-select-item notion-item-red">Published</div></span></div></div><div class="notion-collection-row-property"><div class="notion-collection-column-title"><svg viewBox="0 0 14 14" class="notion-collection-column-title-icon"><path d="M4 3a1 1 0 011-1h7a1 1 0 110 2H5a1 1 0 01-1-1zm0 4a1 1 0 011-1h7a1 1 0 110 2H5a1 1 0 01-1-1zm0 4a1 1 0 011-1h7a1 1 0 110 2H5a1 1 0 01-1-1zM2 4a1 1 0 110-2 1 1 0 010 2zm0 4a1 1 0 110-2 1 1 0 010 2zm0 4a1 1 0 110-2 1 1 0 010 2z"></path></svg><div class="notion-collection-column-title-body">tags</div></div><div class="notion-collection-row-value"><span class="notion-property notion-property-multi_select"><div class="notion-property-multi_select-item notion-item-green">Next.js</div><div class="notion-property-multi_select-item notion-item-gray">React</div><div class="notion-property-multi_select-item notion-item-pink">Website</div></span></div></div><div class="notion-collection-row-property"><div class="notion-collection-column-title"><svg viewBox="0 0 14 14" class="notion-collection-column-title-icon"><path d="M7 4.568a.5.5 0 00-.5-.5h-6a.5.5 0 00-.5.5v1.046a.5.5 0 00.5.5h6a.5.5 0 00.5-.5V4.568zM.5 1a.5.5 0 00-.5.5v1.045a.5.5 0 00.5.5h12a.5.5 0 00.5-.5V1.5a.5.5 0 00-.5-.5H.5zM0 8.682a.5.5 0 00.5.5h11a.5.5 0 00.5-.5V7.636a.5.5 0 00-.5-.5H.5a.5.5 0 00-.5.5v1.046zm0 3.068a.5.5 0 00.5.5h9a.5.5 0 00.5-.5v-1.045a.5.5 0 00-.5-.5h-9a.5.5 0 00-.5.5v1.045z"></path></svg><div class="notion-collection-column-title-body">summary</div></div><div class="notion-collection-row-value"><span class="notion-property notion-property-text">Nextjs迷踪之——我只改了github action中的NODE_ENV=’production’，为什么编译就崩了？</span></div></div><div class="notion-collection-row-property"><div class="notion-collection-column-title"><svg viewBox="0 0 14 14" class="notion-collection-column-title-icon"><path d="M7 13A6 6 0 107 1a6 6 0 000 12zM3.751 5.323A.2.2 0 013.909 5h6.182a.2.2 0 01.158.323L7.158 9.297a.2.2 0 01-.316 0L3.751 5.323z"></path></svg><div class="notion-collection-column-title-body">type</div></div><div class="notion-collection-row-value"><span class="notion-property notion-property-select"><div class="notion-property-select-item notion-item-purple">Post</div></span></div></div></div></div><h3 class="notion-h notion-h2 notion-h-indent-0 notion-block-ff5f5b878eb14112b9cef17983c53c0c" data-id="ff5f5b878eb14112b9cef17983c53c0c"><span><div id="ff5f5b878eb14112b9cef17983c53c0c" class="notion-header-anchor"></div><a class="notion-hash-link" href="#ff5f5b878eb14112b9cef17983c53c0c" title="引言"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">引言</span></span></h3><div class="notion-text notion-block-2b746c5ea66d4c07a6bad92162b07e71">在写<a target="_blank" rel="noopener noreferrer" class="notion-link" href="https://musherm.github.io/Portofolio/">个人作品集</a>这个项目时，由于遇到了让人非常恼火的路径问题，于是有了这篇博客</div><div class="notion-row"><a target="_blank" rel="noopener noreferrer" class="notion-bookmark notion-block-f48c6ae33f3649199a9380e905f002da" href="https://musherm.github.io/nobelium/path-middle"><div><div class="notion-bookmark-title">Next.js 踩坑记（1）——路径体操</div><div class="notion-bookmark-description">如何愉快的将你的 Nextjs 项目部署上 Github Page？</div><div class="notion-bookmark-link"><img src="https://musherm.github.io/apple-touch-icon.png" alt="Next.js 踩坑记（1）——路径体操" loading="lazy"/><div>https://musherm.github.io/nobelium/path-middle</div></div></div><div class="notion-bookmark-image"><img src="https://og-image-craigary.vercel.app/Next.js%20%E8%B8%A9%E5%9D%91%E8%AE%B0%EF%BC%881%EF%BC%89%E2%80%94%E2%80%94%E8%B7%AF%E5%BE%84%E4%BD%93%E6%93%8D.png?theme=dark&amp;md=1&amp;fontSize=125px&amp;images=https%3A%2F%2Fnobelium.vercel.app%2Flogo-for-dark-bg.svg" alt="Next.js 踩坑记（1）——路径体操" loading="lazy"/></div></a></div><div class="notion-text notion-block-12e535aeba0948ed9b4ffae7ae1b356d">这篇博客是在 <a target="_blank" rel="noopener noreferrer" class="notion-link" href="https://www.notion.so">notion</a> 上完成写作的（包括现在这篇），再加之我有过了解，有很多项目支持直接从 notion 构建自己的个人博客，作为一个前端开发者，怎么能没有自己的博客呢？于是开始选型，辗转之下找到了这篇文章：</div><div class="notion-row"><a target="_blank" rel="noopener noreferrer" class="notion-bookmark notion-block-cad2a80668d44b40b9b55c2eadd6dcb4" href="https://emergencyexit.xyz/upgrade-blog"><div><div class="notion-bookmark-title">从 奇思乱想 到 妙想天开</div><div class="notion-bookmark-description">打怪→获得经验→升级⤴️</div><div class="notion-bookmark-link"><img src="https://emergencyexit.xyz/apple-touch-icon.png" alt="从 奇思乱想 到 妙想天开" loading="lazy"/><div>https://emergencyexit.xyz/upgrade-blog</div></div></div><div class="notion-bookmark-image"><img src="https://og-image-craigary.vercel.app/%E4%BB%8E%20%E5%A5%87%E6%80%9D%E4%B9%B1%E6%83%B3%20%E5%88%B0%20%E5%A6%99%E6%83%B3%E5%A4%A9%E5%BC%80.png?theme=dark&amp;md=1&amp;fontSize=125px&amp;images=https%3A%2F%2Fnobelium.vercel.app%2Flogo-for-dark-bg.svg" alt="从 奇思乱想 到 妙想天开" loading="lazy"/></div></a></div><div class="notion-text notion-block-254f1eb665964205b2eee0fefdd17653">作者对各种从 notion 生成博客的项目进行了调研，最终选用了 nobelium 这一项目：</div><div class="notion-row"><a target="_blank" rel="noopener noreferrer" class="notion-bookmark notion-block-4f0d1046a086401d9d355f47d8945edf" href="https://github.com/craigary/nobelium"><div><div class="notion-bookmark-title">GitHub - craigary/nobelium: A static blog build on top of Notion and NextJS, deployed on Vercel.</div><div class="notion-bookmark-description">A static blog build on top of Notion and NextJS, deployed on Vercel. - craigary/nobelium</div><div class="notion-bookmark-link"><img src="https://github.com/fluidicon.png" alt="GitHub - craigary/nobelium: A static blog build on top of Notion and NextJS, deployed on Vercel." loading="lazy"/><div>https://github.com/craigary/nobelium</div></div></div><div class="notion-bookmark-image"><img src="https://repository-images.githubusercontent.com/347565905/8cc03300-9313-11eb-9c18-8387e9ede56b" alt="GitHub - craigary/nobelium: A static blog build on top of Notion and NextJS, deployed on Vercel." loading="lazy"/></div></a></div><div class="notion-text notion-block-f436727745aa44e7978d157045523fff">好了，看来烦人的选型工作已经有人替我完成了，话不多说，开整！由于这个项目原型使用的是 Vercel 部署，但本着省钱的原则，作者和我都选择使用 Github Page 进行部署，这就要求我们将项目编译成静态页面，作者对此进行了一定的改造，所以本博客的部署实际上使用了作者改造的项目：</div><div class="notion-row"><a target="_blank" rel="noopener noreferrer" class="notion-bookmark notion-block-e9ccf41641ad4f73915c5caf0c0a208e" href="https://github.com/IMBlues/nobelium"><div><div class="notion-bookmark-title">GitHub - IMBlues/nobelium: 布鲁斯鱼的妙想天开</div><div class="notion-bookmark-description">布鲁斯鱼的妙想天开. Contribute to IMBlues/nobelium development by creating an account on GitHub.</div><div class="notion-bookmark-link"><img src="https://github.com/fluidicon.png" alt="GitHub - IMBlues/nobelium: 布鲁斯鱼的妙想天开" loading="lazy"/><div>https://github.com/IMBlues/nobelium</div></div></div><div class="notion-bookmark-image"><img src="https://opengraph.githubassets.com/8f1dd2de2684b8c115d5731226908ffc6b9fba0995d0a48ee3fc81057c200965/IMBlues/nobelium" alt="GitHub - IMBlues/nobelium: 布鲁斯鱼的妙想天开" loading="lazy"/></div></a></div><div class="notion-text notion-block-acb3272ff1da45a1a05ce806f95a880f">在根据教程进行了一番操作之后，我们又遇到了那个熟悉的问题：静态资源路径错误！</div><div class="notion-text notion-block-2bfea135c3b34fe8a7cc96a1a224e691">这是什么历史的循环？我因为出现静态资源路径错误，写了<a target="_blank" rel="noopener noreferrer" class="notion-link" href="https://musherm.github.io/nobelium/path-middle">一篇博客</a>专门介绍怎么解决这个问题，并且顺便部署一个博客把这篇文章放上去，但又在部署博客的过程中又遇到了静态资源报错。。。 😅</div><div class="notion-text notion-block-3a536b7571f843dda0ddb7d96c52d7af">但是没关系！很幸运，这又是一个 Nextjs 项目，而我又恰巧刚刚学会如何解决，这不是手拿把掐？开整！</div><h3 class="notion-h notion-h2 notion-h-indent-0 notion-block-ed92dcf050b54aab98c65bd0e8a3c853" data-id="ed92dcf050b54aab98c65bd0e8a3c853"><span><div id="ed92dcf050b54aab98c65bd0e8a3c853" class="notion-header-anchor"></div><a class="notion-hash-link" href="#ed92dcf050b54aab98c65bd0e8a3c853" title="开始解决问题"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">开始解决问题</span></span></h3><div class="notion-text notion-block-d2aa64eff2b4431f8adcad209b53acdc">根据经验，我把nextconfig改成了这样：</div><pre class="notion-code language-javascript"><code class="language-javascript"><span class="token keyword">const</span> isProd <span class="token operator">=</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">===</span> <span class="token string">"production"</span><span class="token punctuation">;</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">basePath</span><span class="token operator">:</span> isProd <span class="token operator">?</span> <span class="token string">"/nobelium"</span> <span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
  <span class="token literal-property property">assetPrefix</span><span class="token operator">:</span> isProd <span class="token operator">?</span> <span class="token string">"/nobelium/"</span> <span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
  <span class="token literal-property property">webpack5</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token operator">...</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="notion-text notion-block-0b2b3f53630542fdb0f6b888d19aa07c">主要就是加了个basePath和assetPath，跟我在 <!-- -->‣<!-- --> 这篇文章里提到的一样，还需要在编译的过程中提供一个NODE_ENV=’production’，就像这样：</div><pre class="notion-code language-yaml"><code class="language-yaml"><span class="token operator">-</span> name<span class="token operator">:</span> Build
  <span class="token literal-property property">run</span><span class="token operator">:</span> <span class="token operator">|</span>
    npm i <span class="token operator">--</span>registry https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>registry<span class="token punctuation">.</span>npmmirror<span class="token punctuation">.</span>com <span class="token operator">--</span>legacy<span class="token operator">-</span>peer<span class="token operator">-</span>deps <span class="token operator">-</span>d 
    yarn build
    yarn <span class="token keyword">export</span>
  <span class="token literal-property property">env</span><span class="token operator">:</span>
    <span class="token constant">NODE_ENV</span><span class="token operator">:</span> production</code></pre><div class="notion-text notion-block-e7ff4eb3239641789f092160f595ddd0">这一改，完了，Github 服务端编译不通过了，最致命的是，我在本地编译能通过，到底是哪一个环节出了问题？</div><h3 class="notion-h notion-h2 notion-h-indent-0 notion-block-e19ab4785daf4de49da18218c6e49e79" data-id="e19ab4785daf4de49da18218c6e49e79"><span><div id="e19ab4785daf4de49da18218c6e49e79" class="notion-header-anchor"></div><a class="notion-hash-link" href="#e19ab4785daf4de49da18218c6e49e79" title="问题定位"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">问题定位</span></span></h3><div class="notion-text notion-block-edb2844d9b3d427aa379876d0ffbbc0d">我决定通过分步骤更改的方式来测试哪一步造成了影响，最终定位在修改 NODE_ENV 这一环节，修改后仔细查看 build 错误信息如下：</div><pre class="notion-code language-yaml"><code class="language-yaml"><span class="token punctuation">.</span><span class="token operator">/</span>node_modules<span class="token operator">/</span>gitalk<span class="token operator">/</span>dist<span class="token operator">/</span>gitalk<span class="token punctuation">.</span>css<span class="token punctuation">.</span>webpack<span class="token punctuation">[</span>javascript<span class="token operator">/</span>auto<span class="token punctuation">]</span><span class="token operator">!=</span><span class="token operator">!</span><span class="token punctuation">.</span><span class="token operator">/</span>node_modules<span class="token operator">/</span>next<span class="token operator">/</span>dist<span class="token operator">/</span>build<span class="token operator">/</span>webpack<span class="token operator">/</span>loaders<span class="token operator">/</span>css<span class="token operator">-</span>loader<span class="token operator">/</span>src<span class="token operator">/</span>index<span class="token punctuation">.</span>js<span class="token operator">??</span>ruleSet<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>rules<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">.</span>oneOf<span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">.</span>use<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">!</span><span class="token punctuation">.</span><span class="token operator">/</span>node_modules<span class="token operator">/</span>next<span class="token operator">/</span>dist<span class="token operator">/</span>build<span class="token operator">/</span>webpack<span class="token operator">/</span>loaders<span class="token operator">/</span>postcss<span class="token operator">-</span>loader<span class="token operator">/</span>src<span class="token operator">/</span>index<span class="token punctuation">.</span>js<span class="token operator">??</span>ruleSet<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>rules<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">.</span>oneOf<span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">.</span>use<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">!</span><span class="token punctuation">.</span><span class="token operator">/</span>node_modules<span class="token operator">/</span>gitalk<span class="token operator">/</span>dist<span class="token operator">/</span>gitalk<span class="token punctuation">.</span>css
<span class="token literal-property property">Error</span><span class="token operator">:</span> Cannot find module <span class="token string">'tailwindcss'</span>
Require stack<span class="token operator">:</span>
<span class="token operator">-</span> <span class="token operator">/</span>home<span class="token operator">/</span>runner<span class="token operator">/</span>work<span class="token operator">/</span>nobelium<span class="token operator">/</span>nobelium<span class="token operator">/</span>node_modules<span class="token operator">/</span>next<span class="token operator">/</span>dist<span class="token operator">/</span>build<span class="token operator">/</span>webpack<span class="token operator">/</span>config<span class="token operator">/</span>blocks<span class="token operator">/</span>css<span class="token operator">/</span>plugins<span class="token punctuation">.</span>js
<span class="token operator">-</span> <span class="token operator">/</span>home<span class="token operator">/</span>runner<span class="token operator">/</span>work<span class="token operator">/</span>nobelium<span class="token operator">/</span>nobelium<span class="token operator">/</span>node_modules<span class="token operator">/</span>next<span class="token operator">/</span>dist<span class="token operator">/</span>build<span class="token operator">/</span>webpack<span class="token operator">/</span>config<span class="token operator">/</span>blocks<span class="token operator">/</span>css<span class="token operator">/</span>index<span class="token punctuation">.</span>js
<span class="token operator">-</span> <span class="token operator">/</span>home<span class="token operator">/</span>runner<span class="token operator">/</span>work<span class="token operator">/</span>nobelium<span class="token operator">/</span>nobelium<span class="token operator">/</span>node_modules<span class="token operator">/</span>next<span class="token operator">/</span>dist<span class="token operator">/</span>build<span class="token operator">/</span>webpack<span class="token operator">/</span>config<span class="token operator">/</span>index<span class="token punctuation">.</span>js
<span class="token operator">-</span> <span class="token operator">/</span>home<span class="token operator">/</span>runner<span class="token operator">/</span>work<span class="token operator">/</span>nobelium<span class="token operator">/</span>nobelium<span class="token operator">/</span>node_modules<span class="token operator">/</span>next<span class="token operator">/</span>dist<span class="token operator">/</span>build<span class="token operator">/</span>webpack<span class="token operator">-</span>config<span class="token punctuation">.</span>js
<span class="token operator">-</span> <span class="token operator">/</span>home<span class="token operator">/</span>runner<span class="token operator">/</span>work<span class="token operator">/</span>nobelium<span class="token operator">/</span>nobelium<span class="token operator">/</span>node_modules<span class="token operator">/</span>next<span class="token operator">/</span>dist<span class="token operator">/</span>build<span class="token operator">/</span>index<span class="token punctuation">.</span>js
<span class="token operator">-</span> <span class="token operator">/</span>home<span class="token operator">/</span>runner<span class="token operator">/</span>work<span class="token operator">/</span>nobelium<span class="token operator">/</span>nobelium<span class="token operator">/</span>node_modules<span class="token operator">/</span>next<span class="token operator">/</span>dist<span class="token operator">/</span>cli<span class="token operator">/</span>next<span class="token operator">-</span>build<span class="token punctuation">.</span>js
<span class="token operator">-</span> <span class="token operator">/</span>home<span class="token operator">/</span>runner<span class="token operator">/</span>work<span class="token operator">/</span>nobelium<span class="token operator">/</span>nobelium<span class="token operator">/</span>node_modules<span class="token operator">/</span>next<span class="token operator">/</span>dist<span class="token operator">/</span>bin<span class="token operator">/</span>next
    at Module<span class="token punctuation">.</span><span class="token function">_resolveFilename</span> <span class="token punctuation">(</span>node<span class="token operator">:</span>internal<span class="token operator">/</span>modules<span class="token operator">/</span>cjs<span class="token operator">/</span>loader<span class="token operator">:</span><span class="token number">1075</span><span class="token operator">:</span><span class="token number">15</span><span class="token punctuation">)</span>
    at mod<span class="token punctuation">.</span><span class="token function">_resolveFilename</span> <span class="token punctuation">(</span><span class="token operator">/</span>home<span class="token operator">/</span>runner<span class="token operator">/</span>work<span class="token operator">/</span>nobelium<span class="token operator">/</span>nobelium<span class="token operator">/</span>node_modules<span class="token operator">/</span>next<span class="token operator">/</span>dist<span class="token operator">/</span>build<span class="token operator">/</span>webpack<span class="token operator">/</span>require<span class="token operator">-</span>hook<span class="token punctuation">.</span>js<span class="token operator">:</span><span class="token number">183</span><span class="token operator">:</span><span class="token number">28</span><span class="token punctuation">)</span>
    at Function<span class="token punctuation">.</span><span class="token function">resolve</span> <span class="token punctuation">(</span>node<span class="token operator">:</span>internal<span class="token operator">/</span>modules<span class="token operator">/</span>cjs<span class="token operator">/</span>helpers<span class="token operator">:</span><span class="token number">116</span><span class="token operator">:</span><span class="token number">19</span><span class="token punctuation">)</span>
    at <span class="token function">loadPlugin</span> <span class="token punctuation">(</span><span class="token operator">/</span>home<span class="token operator">/</span>runner<span class="token operator">/</span>work<span class="token operator">/</span>nobelium<span class="token operator">/</span>nobelium<span class="token operator">/</span>node_modules<span class="token operator">/</span>next<span class="token operator">/</span>dist<span class="token operator">/</span>build<span class="token operator">/</span>webpack<span class="token operator">/</span>config<span class="token operator">/</span>blocks<span class="token operator">/</span>css<span class="token operator">/</span>plugins<span class="token punctuation">.</span>js<span class="token operator">:</span><span class="token number">49</span><span class="token operator">:</span><span class="token number">32</span><span class="token punctuation">)</span>
    at <span class="token operator">/</span>home<span class="token operator">/</span>runner<span class="token operator">/</span>work<span class="token operator">/</span>nobelium<span class="token operator">/</span>nobelium<span class="token operator">/</span>node_modules<span class="token operator">/</span>next<span class="token operator">/</span>dist<span class="token operator">/</span>build<span class="token operator">/</span>webpack<span class="token operator">/</span>config<span class="token operator">/</span>blocks<span class="token operator">/</span>css<span class="token operator">/</span>plugins<span class="token punctuation">.</span>js<span class="token operator">:</span><span class="token number">162</span><span class="token operator">:</span><span class="token number">56</span>
    at Array<span class="token punctuation">.</span><span class="token function">map</span> <span class="token punctuation">(</span><span class="token operator">&lt;</span>anonymous<span class="token operator">></span><span class="token punctuation">)</span>
    at Object<span class="token punctuation">.</span><span class="token function">getPostCssPlugins</span> <span class="token punctuation">(</span><span class="token operator">/</span>home<span class="token operator">/</span>runner<span class="token operator">/</span>work<span class="token operator">/</span>nobelium<span class="token operator">/</span>nobelium<span class="token operator">/</span>node_modules<span class="token operator">/</span>next<span class="token operator">/</span>dist<span class="token operator">/</span>build<span class="token operator">/</span>webpack<span class="token operator">/</span>config<span class="token operator">/</span>blocks<span class="token operator">/</span>css<span class="token operator">/</span>plugins<span class="token punctuation">.</span>js<span class="token operator">:</span><span class="token number">162</span><span class="token operator">:</span><span class="token number">47</span><span class="token punctuation">)</span>
    at async <span class="token operator">/</span>home<span class="token operator">/</span>runner<span class="token operator">/</span>work<span class="token operator">/</span>nobelium<span class="token operator">/</span>nobelium<span class="token operator">/</span>node_modules<span class="token operator">/</span>next<span class="token operator">/</span>dist<span class="token operator">/</span>build<span class="token operator">/</span>webpack<span class="token operator">/</span>config<span class="token operator">/</span>blocks<span class="token operator">/</span>css<span class="token operator">/</span>index<span class="token punctuation">.</span>js<span class="token operator">:</span><span class="token number">99</span><span class="token operator">:</span><span class="token number">36</span></code></pre><div class="notion-text notion-block-8fc7545325554bdd80c27e81157a844a">就是一堆模块找不到的问题，此时的我百思不得其解，我只是更改了一个环境变量，为什么会导致模块找不到呢？我把这个问题拿去问 GPT，GPT回复的答案仿佛醍醐灌顶，帮我彻底解决了这一问题，也就是本文的标题——<b>开发依赖。</b></div><div class="notion-text notion-block-ae90cdb0ed4042ca8853921298b6acaf">查看 package.json 可得：</div><pre class="notion-code language-json"><code class="language-json"><span class="token punctuation">{</span>
  <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"nobelium"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"version"</span><span class="token operator">:</span> <span class="token string">"1.3.0"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"homepage"</span><span class="token operator">:</span> <span class="token string">"https://nobelium.js.org"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"license"</span><span class="token operator">:</span> <span class="token string">"MIT"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"repository"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"git"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"url"</span><span class="token operator">:</span> <span class="token string">"https://github.com/craigary/nobelium.git"</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string-property property">"author"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"Craig Hart"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"email"</span><span class="token operator">:</span> <span class="token string">"i@craigary.net"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"url"</span><span class="token operator">:</span> <span class="token string">"http://craigary.net"</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string-property property">"scripts"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">"dev"</span><span class="token operator">:</span> <span class="token string">"next dev"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"build"</span><span class="token operator">:</span> <span class="token string">"next build &amp;&amp; node ./.next/server/scripts/generate-rss.js"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"export"</span><span class="token operator">:</span> <span class="token string">"next export"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"start"</span><span class="token operator">:</span> <span class="token string">"next start"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"lint"</span><span class="token operator">:</span> <span class="token string">"next lint"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"postbuild"</span><span class="token operator">:</span> <span class="token string">"next-sitemap --config next-sitemap.config.js"</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string-property property">"dependencies"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">"axios"</span><span class="token operator">:</span> <span class="token string">">=0.21.1"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"feed"</span><span class="token operator">:</span> <span class="token string">"^4.2.2"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"gitalk"</span><span class="token operator">:</span> <span class="token string">"^1.7.2"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"next"</span><span class="token operator">:</span> <span class="token string">"^12.1.0"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"notion-client"</span><span class="token operator">:</span> <span class="token string">"^4.10.0"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"notion-utils"</span><span class="token operator">:</span> <span class="token string">"^4.10.0"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"preact"</span><span class="token operator">:</span> <span class="token string">"^10.5.15"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"react"</span><span class="token operator">:</span> <span class="token string">"^17.0.2"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"react-cusdis"</span><span class="token operator">:</span> <span class="token string">"^2.0.1"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"react-dom"</span><span class="token operator">:</span> <span class="token string">"^17.0.2"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"react-notion-x"</span><span class="token operator">:</span> <span class="token string">"^4.11.0"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"use-ackee"</span><span class="token operator">:</span> <span class="token string">"^3.0.0"</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string-property property">"devDependencies"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">"autoprefixer"</span><span class="token operator">:</span> <span class="token string">"^10.4.0"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"eslint"</span><span class="token operator">:</span> <span class="token string">"&lt;8.0.0"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"eslint-config-next"</span><span class="token operator">:</span> <span class="token string">"^12.0.3"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"eslint-config-standard"</span><span class="token operator">:</span> <span class="token string">"^16.0.2"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"eslint-plugin-import"</span><span class="token operator">:</span> <span class="token string">"^2.25.2"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"eslint-plugin-node"</span><span class="token operator">:</span> <span class="token string">"^11.1.0"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"eslint-plugin-promise"</span><span class="token operator">:</span> <span class="token string">"^5.1.1"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"eslint-plugin-react"</span><span class="token operator">:</span> <span class="token string">"^7.26.1"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"next-sitemap"</span><span class="token operator">:</span> <span class="token string">"^1.6.203"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"postcss"</span><span class="token operator">:</span> <span class="token string">"^8.3.11"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"tailwindcss"</span><span class="token operator">:</span> <span class="token string">"^2.2.19"</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string-property property">"bugs"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">"url"</span><span class="token operator">:</span> <span class="token string">"https://github.com/craigary/nobelium/issues"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"email"</span><span class="token operator">:</span> <span class="token string">"i@craigary.net"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre><div class="notion-text notion-block-7d6de274281c4ef89df9606c601e0b84">我突然发现，原来报错里找不到的tailwindcss被标记成了开发依赖！当我在NODE_ENV里指定环境为生产环境时，就不会安装这个包，从而导致编译错误！解决的办法也很简单，把这几个包都挪到dependencies里就行了。</div><h3 class="notion-h notion-h2 notion-h-indent-0 notion-block-bb1a9f7a85914b5eb271801883ba2e45" data-id="bb1a9f7a85914b5eb271801883ba2e45"><span><div id="bb1a9f7a85914b5eb271801883ba2e45" class="notion-header-anchor"></div><a class="notion-hash-link" href="#bb1a9f7a85914b5eb271801883ba2e45" title="总结"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">总结</span></span></h3><div class="notion-text notion-block-dc5197a3b06e4b3488a1da6bdc3ccf48">这次的问题主要还是拿来主义在作祟，本来项目就是傻瓜式的，我能拿来直接用，部署步骤里面也没写我要改package.json，我为什么要关注这个呢？所以我自然也不会知道有些东西被标记成了开发依赖（我在此之前甚至不知道有这个东西）</div><div class="notion-text notion-block-f54c30e5b673428693612ebf99692269">至于成果展示嘛，你现在看到的这篇博客，就是我部署的博客了，如果你看到这里，wish you have a good day!</div></main></div></article><div class="flex justify-between font-medium text-gray-500 dark:text-gray-400"><a><button class="mt-2 cursor-pointer hover:text-black dark:hover:text-gray-100">← <!-- -->返回</button></a><a><button class="mt-2 cursor-pointer hover:text-black dark:hover:text-gray-100">↑ <!-- -->回到顶部</button></a></div><div></div></main><div class="mt-6 flex-shrink-0 m-auto w-full text-gray-500 dark:text-gray-400 transition-all max-w-3xl px-4"><hr class="border-gray-200 dark:border-gray-600"/><div class="my-4 text-sm leading-6"><div class="flex align-baseline justify-between flex-wrap"><p>© <!-- -->Musher<!-- --> <!-- -->2019 - 2024</p><p>powered by <a href="https://github.com/craigary/nobelium"><u>nobelium</u></a></p></div></div></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"id":"5514a197-e266-4487-a3ce-95ae17f26bdb","date":{"start_date":"2024-05-29"},"type":["Post"],"slug":"dev-dependencies","tags":["Next.js","React","Website"],"summary":"Nextjs迷踪之——我只改了github action中的NODE_ENV=’production’，为什么编译就崩了？","title":"Next.js 踩坑记（2）——开发依赖","status":["Published"],"createdTime":"Wed May 29 2024 08:30:49 GMT+0000 (Coordinated Universal Time)","fullWidth":false,"pageIcon":"😶‍🌫️","pageCover":"/images/page-cover/rijksmuseum_claesz_1628.jpg"},"blockMap":{"block":{"5514a197-e266-4487-a3ce-95ae17f26bdb":{"value":{"id":"5514a197-e266-4487-a3ce-95ae17f26bdb","version":619,"type":"page","properties":{"NX\\Q":[["‣",[["d",{"type":"date","start_date":"2024-05-29"}]]]],"`gQ~":[["Post"]],"d]hq":[["dev-dependencies"]],"sD^m":[["Next.js,React,Website"]],"wz|S":[["Nextjs迷踪之——我只改了github action中的NODE_ENV=’production’，为什么编译就崩了？"]],"title":[["Next.js 踩坑记（2）——开发依赖"]],"f211bdc0-ee00-4186-9a7d-f68c055ec2ee":[["Published"]]},"content":["ff5f5b87-8eb1-4112-b9ce-f17983c53c0c","2b746c5e-a66d-4c07-a6ba-d92162b07e71","f48c6ae3-3f36-4919-9a93-80e905f002da","12e535ae-ba09-48ed-9b4f-fae7ae1b356d","cad2a806-68d4-4b40-b9b5-5c2eadd6dcb4","254f1eb6-6596-4205-b2ee-e0fefdd17653","4f0d1046-a086-401d-9d35-5f47d8945edf","f4367277-45aa-44e7-978d-157045523fff","e9ccf416-41ad-4f73-915c-5caf0c0a208e","acb3272f-f1da-45a1-a05c-e806f95a880f","2bfea135-c3b3-4fe8-a7cc-96a1a224e691","3a536b75-71f8-43dd-a0dd-b7d96c52d7af","ed92dcf0-50b5-4aab-98c6-5bd0e8a3c853","d2aa64ef-f2b4-431f-8adc-ad209b53acdc","4473a062-cc8f-425d-b21f-e74b654aa446","0b2b3f53-6305-42fd-b0f6-b888d19aa07c","33cc31d9-54af-44d5-9206-e24ada8fffd6","e7ff4eb3-2396-4178-9f09-2160f595ddd0","e19ab478-5daf-4de4-9da1-8218c6e49e79","edb2844d-9b3d-427a-a379-876d0ffbbc0d","119fcfa8-95f4-4dce-86b0-d60eb45eec22","8fc75453-2555-4bdd-80c2-7e81157a844a","ae90cdb0-ed40-42ca-8853-921298b6acaf","9af7733c-7ef4-409b-80bc-3aeda451c5a4","7d6de274-281c-4ef8-9df9-606c601e0b84","bb1a9f7a-8591-4b5e-b271-801883ba2e45","dc5197a3-b06e-4b34-88a1-da6bdc3ccf48","f54c30e5-b673-4286-9361-2ebf99692269"],"format":{"page_icon":"😶‍🌫️","page_cover":"/images/page-cover/rijksmuseum_claesz_1628.jpg","page_cover_position":0},"created_time":1716971449443,"last_edited_time":1717039686105,"parent_id":"4126d965-c550-46af-bc34-c038f0103084","parent_table":"collection","alive":true,"file_ids":["eca01f7f-f753-4cb5-ba95-2233e26f85f4"],"created_by_table":"notion_user","created_by_id":"4e783237-cc83-440e-9604-bac369009c55","last_edited_by_table":"notion_user","last_edited_by_id":"4e783237-cc83-440e-9604-bac369009c55","space_id":"01ff42de-5b53-40d7-a69e-999e3574e640"},"role":"reader"},"0eb813c6-179c-43e0-8c12-27cc22341e33":{"value":{"id":"0eb813c6-179c-43e0-8c12-27cc22341e33","version":30,"type":"collection_view_page","view_ids":["1df80a31-46e8-4fcd-b9a3-dde8ded944c9"],"collection_id":"4126d965-c550-46af-bc34-c038f0103084","format":{"block_locked":false,"block_locked_by":"2c0e0b01-f59e-4e03-b7b6-7d706eecada3","collection_pointer":{"id":"4126d965-c550-46af-bc34-c038f0103084","table":"collection","spaceId":"01ff42de-5b53-40d7-a69e-999e3574e640"},"copied_from_pointer":{"id":"ee99f65a-23ab-44f8-ac80-270122ee8138","table":"block","spaceId":"b3580129-1025-4b78-9e73-0a6f39f464ab"}},"permissions":[{"role":"editor","type":"user_permission","user_id":"4e783237-cc83-440e-9604-bac369009c55"},{"role":"reader","type":"public_permission","added_timestamp":1716963272589}],"created_time":1716962484995,"last_edited_time":1717035760050,"parent_id":"01ff42de-5b53-40d7-a69e-999e3574e640","parent_table":"space","alive":true,"copied_from":"ee99f65a-23ab-44f8-ac80-270122ee8138","created_by_table":"notion_user","created_by_id":"4e783237-cc83-440e-9604-bac369009c55","last_edited_by_table":"notion_user","last_edited_by_id":"4e783237-cc83-440e-9604-bac369009c55","space_id":"01ff42de-5b53-40d7-a69e-999e3574e640"},"role":"reader"},"ff5f5b87-8eb1-4112-b9ce-f17983c53c0c":{"value":{"id":"ff5f5b87-8eb1-4112-b9ce-f17983c53c0c","version":23,"type":"sub_header","properties":{"title":[["引言"]]},"created_time":1717039297245,"last_edited_time":1717039299907,"parent_id":"5514a197-e266-4487-a3ce-95ae17f26bdb","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"4e783237-cc83-440e-9604-bac369009c55","last_edited_by_table":"notion_user","last_edited_by_id":"4e783237-cc83-440e-9604-bac369009c55","space_id":"01ff42de-5b53-40d7-a69e-999e3574e640"},"role":"reader"},"2b746c5e-a66d-4c07-a6ba-d92162b07e71":{"value":{"id":"2b746c5e-a66d-4c07-a6ba-d92162b07e71","version":289,"type":"text","properties":{"title":[["在写"],["个人作品集",[["a","https://musherm.github.io/Portofolio/"]]],["这个项目时，由于遇到了让人非常恼火的路径问题，于是有了这篇博客"]]},"created_time":1717036606145,"last_edited_time":1717038922490,"parent_id":"5514a197-e266-4487-a3ce-95ae17f26bdb","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"4e783237-cc83-440e-9604-bac369009c55","last_edited_by_table":"notion_user","last_edited_by_id":"4e783237-cc83-440e-9604-bac369009c55","space_id":"01ff42de-5b53-40d7-a69e-999e3574e640"},"role":"reader"},"f48c6ae3-3f36-4919-9a93-80e905f002da":{"value":{"id":"f48c6ae3-3f36-4919-9a93-80e905f002da","version":10,"type":"bookmark","properties":{"link":[["https://musherm.github.io/nobelium/path-middle"]],"title":[["Next.js 踩坑记（1）——路径体操"]],"description":[["如何愉快的将你的 Nextjs 项目部署上 Github Page？"]]},"format":{"bookmark_icon":"https://musherm.github.io/apple-touch-icon.png","bookmark_cover":"https://og-image-craigary.vercel.app/Next.js%20%E8%B8%A9%E5%9D%91%E8%AE%B0%EF%BC%881%EF%BC%89%E2%80%94%E2%80%94%E8%B7%AF%E5%BE%84%E4%BD%93%E6%93%8D.png?theme=dark\u0026md=1\u0026fontSize=125px\u0026images=https%3A%2F%2Fnobelium.vercel.app%2Flogo-for-dark-bg.svg"},"created_time":1717037336232,"last_edited_time":1717037336232,"parent_id":"5514a197-e266-4487-a3ce-95ae17f26bdb","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"4e783237-cc83-440e-9604-bac369009c55","last_edited_by_table":"notion_user","last_edited_by_id":"4e783237-cc83-440e-9604-bac369009c55","space_id":"01ff42de-5b53-40d7-a69e-999e3574e640"},"role":"reader"},"12e535ae-ba09-48ed-9b4f-fae7ae1b356d":{"value":{"id":"12e535ae-ba09-48ed-9b4f-fae7ae1b356d","version":685,"type":"text","properties":{"title":[["这篇博客是在 "],["notion",[["a","https://www.notion.so"]]],[" 上完成写作的（包括现在这篇），再加之我有过了解，有很多项目支持直接从 notion 构建自己的个人博客，作为一个前端开发者，怎么能没有自己的博客呢？于是开始选型，辗转之下找到了这篇文章："]]},"created_time":1717037330804,"last_edited_time":1717037499376,"parent_id":"5514a197-e266-4487-a3ce-95ae17f26bdb","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"4e783237-cc83-440e-9604-bac369009c55","last_edited_by_table":"notion_user","last_edited_by_id":"4e783237-cc83-440e-9604-bac369009c55","space_id":"01ff42de-5b53-40d7-a69e-999e3574e640"},"role":"reader"},"cad2a806-68d4-4b40-b9b5-5c2eadd6dcb4":{"value":{"id":"cad2a806-68d4-4b40-b9b5-5c2eadd6dcb4","version":10,"type":"bookmark","properties":{"link":[["https://emergencyexit.xyz/upgrade-blog"]],"title":[["从 奇思乱想 到 妙想天开"]],"description":[["打怪→获得经验→升级⤴️"]]},"format":{"bookmark_icon":"https://emergencyexit.xyz/apple-touch-icon.png","bookmark_cover":"https://og-image-craigary.vercel.app/%E4%BB%8E%20%E5%A5%87%E6%80%9D%E4%B9%B1%E6%83%B3%20%E5%88%B0%20%E5%A6%99%E6%83%B3%E5%A4%A9%E5%BC%80.png?theme=dark\u0026md=1\u0026fontSize=125px\u0026images=https%3A%2F%2Fnobelium.vercel.app%2Flogo-for-dark-bg.svg"},"created_time":1717037505233,"last_edited_time":1717037505233,"parent_id":"5514a197-e266-4487-a3ce-95ae17f26bdb","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"4e783237-cc83-440e-9604-bac369009c55","last_edited_by_table":"notion_user","last_edited_by_id":"4e783237-cc83-440e-9604-bac369009c55","space_id":"01ff42de-5b53-40d7-a69e-999e3574e640"},"role":"reader"},"254f1eb6-6596-4205-b2ee-e0fefdd17653":{"value":{"id":"254f1eb6-6596-4205-b2ee-e0fefdd17653","version":221,"type":"text","properties":{"title":[["作者对各种从 notion 生成博客的项目进行了调研，最终选用了 nobelium 这一项目："]]},"created_time":1717037387079,"last_edited_time":1717037684557,"parent_id":"5514a197-e266-4487-a3ce-95ae17f26bdb","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"4e783237-cc83-440e-9604-bac369009c55","last_edited_by_table":"notion_user","last_edited_by_id":"4e783237-cc83-440e-9604-bac369009c55","space_id":"01ff42de-5b53-40d7-a69e-999e3574e640"},"role":"reader"},"4f0d1046-a086-401d-9d35-5f47d8945edf":{"value":{"id":"4f0d1046-a086-401d-9d35-5f47d8945edf","version":10,"type":"bookmark","properties":{"link":[["https://github.com/craigary/nobelium"]],"title":[["GitHub - craigary/nobelium: A static blog build on top of Notion and NextJS, deployed on Vercel."]],"description":[["A static blog build on top of Notion and NextJS, deployed on Vercel. - craigary/nobelium"]]},"format":{"bookmark_icon":"https://github.com/fluidicon.png","bookmark_cover":"https://repository-images.githubusercontent.com/347565905/8cc03300-9313-11eb-9c18-8387e9ede56b"},"created_time":1717039688442,"last_edited_time":1717039695809,"parent_id":"5514a197-e266-4487-a3ce-95ae17f26bdb","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"4e783237-cc83-440e-9604-bac369009c55","last_edited_by_table":"notion_user","last_edited_by_id":"4e783237-cc83-440e-9604-bac369009c55","space_id":"01ff42de-5b53-40d7-a69e-999e3574e640"},"role":"reader"},"f4367277-45aa-44e7-978d-157045523fff":{"value":{"id":"f4367277-45aa-44e7-978d-157045523fff","version":886,"type":"text","properties":{"title":[["好了，看来烦人的选型工作已经有人替我完成了，话不多说，开整！由于这个项目原型使用的是 Vercel 部署，但本着省钱的原则，作者和我都选择使用 Github Page 进行部署，这就要求我们将项目编译成静态页面，作者对此进行了一定的改造，所以本博客的部署实际上使用了作者改造的项目："]]},"created_time":1717037511717,"last_edited_time":1717037817644,"parent_id":"5514a197-e266-4487-a3ce-95ae17f26bdb","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"4e783237-cc83-440e-9604-bac369009c55","last_edited_by_table":"notion_user","last_edited_by_id":"4e783237-cc83-440e-9604-bac369009c55","space_id":"01ff42de-5b53-40d7-a69e-999e3574e640"},"role":"reader"},"e9ccf416-41ad-4f73-915c-5caf0c0a208e":{"value":{"id":"e9ccf416-41ad-4f73-915c-5caf0c0a208e","version":10,"type":"bookmark","properties":{"link":[["https://github.com/IMBlues/nobelium"]],"title":[["GitHub - IMBlues/nobelium: 布鲁斯鱼的妙想天开"]],"description":[["布鲁斯鱼的妙想天开. Contribute to IMBlues/nobelium development by creating an account on GitHub."]]},"format":{"bookmark_icon":"https://github.com/fluidicon.png","bookmark_cover":"https://opengraph.githubassets.com/8f1dd2de2684b8c115d5731226908ffc6b9fba0995d0a48ee3fc81057c200965/IMBlues/nobelium"},"created_time":1717039723194,"last_edited_time":1717039724427,"parent_id":"5514a197-e266-4487-a3ce-95ae17f26bdb","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"4e783237-cc83-440e-9604-bac369009c55","last_edited_by_table":"notion_user","last_edited_by_id":"4e783237-cc83-440e-9604-bac369009c55","space_id":"01ff42de-5b53-40d7-a69e-999e3574e640"},"role":"reader"},"acb3272f-f1da-45a1-a05c-e806f95a880f":{"value":{"id":"acb3272f-f1da-45a1-a05c-e806f95a880f","version":246,"type":"text","properties":{"title":[["在根据教程进行了一番操作之后，我们又遇到了那个熟悉的问题：静态资源路径错误！"]]},"created_time":1717037712121,"last_edited_time":1717037866275,"parent_id":"5514a197-e266-4487-a3ce-95ae17f26bdb","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"4e783237-cc83-440e-9604-bac369009c55","last_edited_by_table":"notion_user","last_edited_by_id":"4e783237-cc83-440e-9604-bac369009c55","space_id":"01ff42de-5b53-40d7-a69e-999e3574e640"},"role":"reader"},"2bfea135-c3b3-4fe8-a7cc-96a1a224e691":{"value":{"id":"2bfea135-c3b3-4fe8-a7cc-96a1a224e691","version":558,"type":"text","properties":{"title":[["这是什么历史的循环？我因为出现静态资源路径错误，写了"],["一篇博客",[["a","https://musherm.github.io/nobelium/path-middle"]]],["专门介绍怎么解决这个问题，并且顺便部署一个博客把这篇文章放上去，但又在部署博客的过程中又遇到了静态资源报错。。。 😅"]]},"created_time":1717037868850,"last_edited_time":1717037950858,"parent_id":"5514a197-e266-4487-a3ce-95ae17f26bdb","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"4e783237-cc83-440e-9604-bac369009c55","last_edited_by_table":"notion_user","last_edited_by_id":"4e783237-cc83-440e-9604-bac369009c55","space_id":"01ff42de-5b53-40d7-a69e-999e3574e640"},"role":"reader"},"3a536b75-71f8-43dd-a0dd-b7d96c52d7af":{"value":{"id":"3a536b75-71f8-43dd-a0dd-b7d96c52d7af","version":340,"type":"text","properties":{"title":[["但是没关系！很幸运，这又是一个 Nextjs 项目，而我又恰巧刚刚学会如何解决，这不是手拿把掐？开整！"]]},"created_time":1717037952549,"last_edited_time":1717038106549,"parent_id":"5514a197-e266-4487-a3ce-95ae17f26bdb","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"4e783237-cc83-440e-9604-bac369009c55","last_edited_by_table":"notion_user","last_edited_by_id":"4e783237-cc83-440e-9604-bac369009c55","space_id":"01ff42de-5b53-40d7-a69e-999e3574e640"},"role":"reader"},"ed92dcf0-50b5-4aab-98c6-5bd0e8a3c853":{"value":{"id":"ed92dcf0-50b5-4aab-98c6-5bd0e8a3c853","version":45,"type":"sub_header","properties":{"title":[["开始解决问题"]]},"created_time":1717039305296,"last_edited_time":1717039319248,"parent_id":"5514a197-e266-4487-a3ce-95ae17f26bdb","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"4e783237-cc83-440e-9604-bac369009c55","last_edited_by_table":"notion_user","last_edited_by_id":"4e783237-cc83-440e-9604-bac369009c55","space_id":"01ff42de-5b53-40d7-a69e-999e3574e640"},"role":"reader"},"d2aa64ef-f2b4-431f-8adc-ad209b53acdc":{"value":{"id":"d2aa64ef-f2b4-431f-8adc-ad209b53acdc","version":104,"type":"text","properties":{"title":[["根据经验，我把nextconfig改成了这样："]]},"created_time":1717038106836,"last_edited_time":1717038483548,"parent_id":"5514a197-e266-4487-a3ce-95ae17f26bdb","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"4e783237-cc83-440e-9604-bac369009c55","last_edited_by_table":"notion_user","last_edited_by_id":"4e783237-cc83-440e-9604-bac369009c55","space_id":"01ff42de-5b53-40d7-a69e-999e3574e640"},"role":"reader"},"4473a062-cc8f-425d-b21f-e74b654aa446":{"value":{"id":"4473a062-cc8f-425d-b21f-e74b654aa446","version":33,"type":"code","properties":{"title":[["const isProd = process.env.NODE_ENV === \"production\";\nmodule.exports = {\n  basePath: isProd ? \"/nobelium\" : \"\",\n  assetPrefix: isProd ? \"/nobelium/\" : \"\",\n  webpack5: true,\n  ...\n};\n"]],"language":[["JavaScript"]]},"created_time":1717038496430,"last_edited_time":1717038536538,"parent_id":"5514a197-e266-4487-a3ce-95ae17f26bdb","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"4e783237-cc83-440e-9604-bac369009c55","last_edited_by_table":"notion_user","last_edited_by_id":"4e783237-cc83-440e-9604-bac369009c55","space_id":"01ff42de-5b53-40d7-a69e-999e3574e640"},"role":"reader"},"0b2b3f53-6305-42fd-b0f6-b888d19aa07c":{"value":{"id":"0b2b3f53-6305-42fd-b0f6-b888d19aa07c","version":367,"type":"text","properties":{"title":[["主要就是加了个basePath和assetPath，跟我在 "],["‣",[["lm",{"href":"https://musherm.github.io/nobelium/path-middle","title":"Next.js 踩坑记（1）——路径体操","icon_url":"https://musherm.github.io/apple-touch-icon.png","link_author":"Musher","thumbnail_url":"https://og-image-craigary.vercel.app/Next.js%20%E8%B8%A9%E5%9D%91%E8%AE%B0%EF%BC%881%EF%BC%89%E2%80%94%E2%80%94%E8%B7%AF%E5%BE%84%E4%BD%93%E6%93%8D.png?theme=dark\u0026md=1\u0026fontSize=125px\u0026images=https%3A%2F%2Fnobelium.vercel.app%2Flogo-for-dark-bg.svg"}]]],[" 这篇文章里提到的一样，还需要在编译的过程中提供一个NODE_ENV=’production’，就像这样："]]},"created_time":1717038483712,"last_edited_time":1717038632897,"parent_id":"5514a197-e266-4487-a3ce-95ae17f26bdb","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"4e783237-cc83-440e-9604-bac369009c55","last_edited_by_table":"notion_user","last_edited_by_id":"4e783237-cc83-440e-9604-bac369009c55","space_id":"01ff42de-5b53-40d7-a69e-999e3574e640"},"role":"reader"},"33cc31d9-54af-44d5-9206-e24ada8fffd6":{"value":{"id":"33cc31d9-54af-44d5-9206-e24ada8fffd6","version":43,"type":"code","properties":{"title":[["- name: Build\n  run: |\n    npm i --registry https://registry.npmmirror.com --legacy-peer-deps -d \n    yarn build\n    yarn export\n  env:\n    NODE_ENV: production"]],"language":[["YAML"]]},"created_time":1717038633112,"last_edited_time":1717038648967,"parent_id":"5514a197-e266-4487-a3ce-95ae17f26bdb","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"4e783237-cc83-440e-9604-bac369009c55","last_edited_by_table":"notion_user","last_edited_by_id":"4e783237-cc83-440e-9604-bac369009c55","space_id":"01ff42de-5b53-40d7-a69e-999e3574e640"},"role":"reader"},"e7ff4eb3-2396-4178-9f09-2160f595ddd0":{"value":{"id":"e7ff4eb3-2396-4178-9f09-2160f595ddd0","version":645,"type":"text","properties":{"title":[["这一改，完了，Github 服务端编译不通过了，最致命的是，我在本地编译能通过，到底是哪一个环节出了问题？"]]},"created_time":1717038589963,"last_edited_time":1717039343683,"parent_id":"5514a197-e266-4487-a3ce-95ae17f26bdb","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"4e783237-cc83-440e-9604-bac369009c55","last_edited_by_table":"notion_user","last_edited_by_id":"4e783237-cc83-440e-9604-bac369009c55","space_id":"01ff42de-5b53-40d7-a69e-999e3574e640"},"role":"reader"},"e19ab478-5daf-4de4-9da1-8218c6e49e79":{"value":{"id":"e19ab478-5daf-4de4-9da1-8218c6e49e79","version":34,"type":"sub_header","properties":{"title":[["问题定位"]]},"created_time":1717039344051,"last_edited_time":1717039348738,"parent_id":"5514a197-e266-4487-a3ce-95ae17f26bdb","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"4e783237-cc83-440e-9604-bac369009c55","last_edited_by_table":"notion_user","last_edited_by_id":"4e783237-cc83-440e-9604-bac369009c55","space_id":"01ff42de-5b53-40d7-a69e-999e3574e640"},"role":"reader"},"edb2844d-9b3d-427a-a379-876d0ffbbc0d":{"value":{"id":"edb2844d-9b3d-427a-a379-876d0ffbbc0d","version":8,"type":"text","properties":{"title":[["我决定通过分步骤更改的方式来测试哪一步造成了影响，最终定位在修改 NODE_ENV 这一环节，修改后仔细查看 build 错误信息如下："]]},"created_time":1717039343683,"last_edited_time":1717039345858,"parent_id":"5514a197-e266-4487-a3ce-95ae17f26bdb","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"4e783237-cc83-440e-9604-bac369009c55","last_edited_by_table":"notion_user","last_edited_by_id":"4e783237-cc83-440e-9604-bac369009c55","space_id":"01ff42de-5b53-40d7-a69e-999e3574e640"},"role":"reader"},"119fcfa8-95f4-4dce-86b0-d60eb45eec22":{"value":{"id":"119fcfa8-95f4-4dce-86b0-d60eb45eec22","version":6,"type":"code","properties":{"title":[["./node_modules/gitalk/dist/gitalk.css.webpack[javascript/auto]!=!./node_modules/next/dist/build/webpack/loaders/css-loader/src/index.js??ruleSet[1].rules[2].oneOf[7].use[1]!./node_modules/next/dist/build/webpack/loaders/postcss-loader/src/index.js??ruleSet[1].rules[2].oneOf[7].use[2]!./node_modules/gitalk/dist/gitalk.css\nError: Cannot find module 'tailwindcss'\nRequire stack:\n- /home/runner/work/nobelium/nobelium/node_modules/next/dist/build/webpack/config/blocks/css/plugins.js\n- /home/runner/work/nobelium/nobelium/node_modules/next/dist/build/webpack/config/blocks/css/index.js\n- /home/runner/work/nobelium/nobelium/node_modules/next/dist/build/webpack/config/index.js\n- /home/runner/work/nobelium/nobelium/node_modules/next/dist/build/webpack-config.js\n- /home/runner/work/nobelium/nobelium/node_modules/next/dist/build/index.js\n- /home/runner/work/nobelium/nobelium/node_modules/next/dist/cli/next-build.js\n- /home/runner/work/nobelium/nobelium/node_modules/next/dist/bin/next\n    at Module._resolveFilename (node:internal/modules/cjs/loader:1075:15)\n    at mod._resolveFilename (/home/runner/work/nobelium/nobelium/node_modules/next/dist/build/webpack/require-hook.js:183:28)\n    at Function.resolve (node:internal/modules/cjs/helpers:116:19)\n    at loadPlugin (/home/runner/work/nobelium/nobelium/node_modules/next/dist/build/webpack/config/blocks/css/plugins.js:49:32)\n    at /home/runner/work/nobelium/nobelium/node_modules/next/dist/build/webpack/config/blocks/css/plugins.js:162:56\n    at Array.map (\u003canonymous\u003e)\n    at Object.getPostCssPlugins (/home/runner/work/nobelium/nobelium/node_modules/next/dist/build/webpack/config/blocks/css/plugins.js:162:47)\n    at async /home/runner/work/nobelium/nobelium/node_modules/next/dist/build/webpack/config/blocks/css/index.js:99:36"]],"language":[["YAML"]]},"format":{"copied_from_pointer":{"id":"451463f2-1475-4700-b399-722d5c0d0485","table":"block","spaceId":"01ff42de-5b53-40d7-a69e-999e3574e640"}},"created_time":1717038837789,"last_edited_time":1717039197481,"parent_id":"5514a197-e266-4487-a3ce-95ae17f26bdb","parent_table":"block","alive":true,"copied_from":"451463f2-1475-4700-b399-722d5c0d0485","created_by_table":"notion_user","created_by_id":"4e783237-cc83-440e-9604-bac369009c55","last_edited_by_table":"notion_user","last_edited_by_id":"4e783237-cc83-440e-9604-bac369009c55","space_id":"01ff42de-5b53-40d7-a69e-999e3574e640"},"role":"reader"},"8fc75453-2555-4bdd-80c2-7e81157a844a":{"value":{"id":"8fc75453-2555-4bdd-80c2-7e81157a844a","version":593,"type":"text","properties":{"title":[["就是一堆模块找不到的问题，此时的我百思不得其解，我只是更改了一个环境变量，为什么会导致模块找不到呢？我把这个问题拿去问 GPT，GPT回复的答案仿佛醍醐灌顶，帮我彻底解决了这一问题，也就是本文的标题——"],["开发依赖。",[["b"]]]]},"created_time":1717038844610,"last_edited_time":1717038918576,"parent_id":"5514a197-e266-4487-a3ce-95ae17f26bdb","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"4e783237-cc83-440e-9604-bac369009c55","last_edited_by_table":"notion_user","last_edited_by_id":"4e783237-cc83-440e-9604-bac369009c55","space_id":"01ff42de-5b53-40d7-a69e-999e3574e640"},"role":"reader"},"ae90cdb0-ed40-42ca-8853-921298b6acaf":{"value":{"id":"ae90cdb0-ed40-42ca-8853-921298b6acaf","version":83,"type":"text","properties":{"title":[["查看 package.json 可得："]]},"created_time":1717038963846,"last_edited_time":1717039032798,"parent_id":"5514a197-e266-4487-a3ce-95ae17f26bdb","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"4e783237-cc83-440e-9604-bac369009c55","last_edited_by_table":"notion_user","last_edited_by_id":"4e783237-cc83-440e-9604-bac369009c55","space_id":"01ff42de-5b53-40d7-a69e-999e3574e640"},"role":"reader"},"9af7733c-7ef4-409b-80bc-3aeda451c5a4":{"value":{"id":"9af7733c-7ef4-409b-80bc-3aeda451c5a4","version":19,"type":"code","properties":{"title":[["{\n  \"name\": \"nobelium\",\n  \"version\": \"1.3.0\",\n  \"homepage\": \"https://nobelium.js.org\",\n  \"license\": \"MIT\",\n  \"repository\": {\n    \"type\": \"git\",\n    \"url\": \"https://github.com/craigary/nobelium.git\"\n  },\n  \"author\": {\n    \"name\": \"Craig Hart\",\n    \"email\": \"i@craigary.net\",\n    \"url\": \"http://craigary.net\"\n  },\n  \"scripts\": {\n    \"dev\": \"next dev\",\n    \"build\": \"next build \u0026\u0026 node ./.next/server/scripts/generate-rss.js\",\n    \"export\": \"next export\",\n    \"start\": \"next start\",\n    \"lint\": \"next lint\",\n    \"postbuild\": \"next-sitemap --config next-sitemap.config.js\"\n  },\n  \"dependencies\": {\n    \"axios\": \"\u003e=0.21.1\",\n    \"feed\": \"^4.2.2\",\n    \"gitalk\": \"^1.7.2\",\n    \"next\": \"^12.1.0\",\n    \"notion-client\": \"^4.10.0\",\n    \"notion-utils\": \"^4.10.0\",\n    \"preact\": \"^10.5.15\",\n    \"react\": \"^17.0.2\",\n    \"react-cusdis\": \"^2.0.1\",\n    \"react-dom\": \"^17.0.2\",\n    \"react-notion-x\": \"^4.11.0\",\n    \"use-ackee\": \"^3.0.0\"\n  },\n  \"devDependencies\": {\n    \"autoprefixer\": \"^10.4.0\",\n    \"eslint\": \"\u003c8.0.0\",\n    \"eslint-config-next\": \"^12.0.3\",\n    \"eslint-config-standard\": \"^16.0.2\",\n    \"eslint-plugin-import\": \"^2.25.2\",\n    \"eslint-plugin-node\": \"^11.1.0\",\n    \"eslint-plugin-promise\": \"^5.1.1\",\n    \"eslint-plugin-react\": \"^7.26.1\",\n    \"next-sitemap\": \"^1.6.203\",\n    \"postcss\": \"^8.3.11\",\n    \"tailwindcss\": \"^2.2.19\"\n  },\n  \"bugs\": {\n    \"url\": \"https://github.com/craigary/nobelium/issues\",\n    \"email\": \"i@craigary.net\"\n  }\n}"]],"language":[["JSON"]]},"created_time":1717039033041,"last_edited_time":1717039037080,"parent_id":"5514a197-e266-4487-a3ce-95ae17f26bdb","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"4e783237-cc83-440e-9604-bac369009c55","last_edited_by_table":"notion_user","last_edited_by_id":"4e783237-cc83-440e-9604-bac369009c55","space_id":"01ff42de-5b53-40d7-a69e-999e3574e640"},"role":"reader"},"7d6de274-281c-4ef8-9df9-606c601e0b84":{"value":{"id":"7d6de274-281c-4ef8-9df9-606c601e0b84","version":633,"type":"text","properties":{"title":[["我突然发现，原来报错里找不到的tailwindcss被标记成了开发依赖！当我在NODE_ENV里指定环境为生产环境时，就不会安装这个包，从而导致编译错误！解决的办法也很简单，把这几个包都挪到dependencies里就行了。"]]},"created_time":1717039205048,"last_edited_time":1717039357474,"parent_id":"5514a197-e266-4487-a3ce-95ae17f26bdb","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"4e783237-cc83-440e-9604-bac369009c55","last_edited_by_table":"notion_user","last_edited_by_id":"4e783237-cc83-440e-9604-bac369009c55","space_id":"01ff42de-5b53-40d7-a69e-999e3574e640"},"role":"reader"},"bb1a9f7a-8591-4b5e-b271-801883ba2e45":{"value":{"id":"bb1a9f7a-8591-4b5e-b271-801883ba2e45","version":23,"type":"sub_header","properties":{"title":[["总结"]]},"created_time":1717039359448,"last_edited_time":1717039361489,"parent_id":"5514a197-e266-4487-a3ce-95ae17f26bdb","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"4e783237-cc83-440e-9604-bac369009c55","last_edited_by_table":"notion_user","last_edited_by_id":"4e783237-cc83-440e-9604-bac369009c55","space_id":"01ff42de-5b53-40d7-a69e-999e3574e640"},"role":"reader"},"dc5197a3-b06e-4b34-88a1-da6bdc3ccf48":{"value":{"id":"dc5197a3-b06e-4b34-88a1-da6bdc3ccf48","version":777,"type":"text","properties":{"title":[["这次的问题主要还是拿来主义在作祟，本来项目就是傻瓜式的，我能拿来直接用，部署步骤里面也没写我要改package.json，我为什么要关注这个呢？所以我自然也不会知道有些东西被标记成了开发依赖（我在此之前甚至不知道有这个东西）"]]},"created_time":1717039362193,"last_edited_time":1717039464643,"parent_id":"5514a197-e266-4487-a3ce-95ae17f26bdb","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"4e783237-cc83-440e-9604-bac369009c55","last_edited_by_table":"notion_user","last_edited_by_id":"4e783237-cc83-440e-9604-bac369009c55","space_id":"01ff42de-5b53-40d7-a69e-999e3574e640"},"role":"reader"},"f54c30e5-b673-4286-9361-2ebf99692269":{"value":{"id":"f54c30e5-b673-4286-9361-2ebf99692269","version":357,"type":"text","properties":{"title":[["至于成果展示嘛，你现在看到的这篇博客，就是我部署的博客了，如果你看到这里，wish you have a good day!"]]},"created_time":1717039472810,"last_edited_time":1717039524574,"parent_id":"5514a197-e266-4487-a3ce-95ae17f26bdb","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"4e783237-cc83-440e-9604-bac369009c55","last_edited_by_table":"notion_user","last_edited_by_id":"4e783237-cc83-440e-9604-bac369009c55","space_id":"01ff42de-5b53-40d7-a69e-999e3574e640"},"role":"reader"}},"collection":{"4126d965-c550-46af-bc34-c038f0103084":{"value":{"id":"4126d965-c550-46af-bc34-c038f0103084","version":4,"name":[["NOBELIUM Template"]],"schema":{"NX\\Q":{"name":"date","type":"date"},"`gQ~":{"name":"type","type":"select","options":[{"id":"5aff2f95-fd1e-489b-8840-bf10bc9519cb","color":"purple","value":"Post"},{"id":"374d2bc6-a144-4832-8ca4-474aaae0ea1f","color":"orange","value":"Page"}]},"d]hq":{"name":"slug","type":"text"},"sD^m":{"name":"tags","type":"multi_select","options":[{"id":"b67fb051-ddd9-43b5-9fdf-7b7f97a2e056","color":"yellow","value":"Jekyll"},{"id":"2382b30f-9881-4a8b-ae7f-2d34979c4fb9","color":"pink","value":"Website"},{"id":"674b2636-c585-4057-8a6d-0d6ab9718f90","color":"blue","value":"Cooking"},{"id":"499d31ac-26f2-4fed-9ec4-17afe3c6d90d","color":"red","value":"Sociology"},{"id":"38611f8e-ab81-4a71-8d40-7bad1370b26a","color":"orange","value":"TEMP"},{"id":"1ad9233c-079a-44c7-98c3-24ed2faf1879","color":"purple","value":"Book"},{"id":"a3d8eb51-77ce-4e83-a9ae-68da9cee63fa","color":"default","value":"Design"},{"id":"87df7c95-06f0-477a-a530-14be415a1dcf","color":"gray","value":"React"},{"id":"76cb8fea-49e8-47c1-a982-b3a8a23d2278","color":"green","value":"Next.js"},{"id":"63e95905-41f5-4027-8bd4-330129476432","color":"brown","value":"TODO"}]},"wz|S":{"name":"summary","type":"text"},"title":{"name":"title","type":"title"},"f211bdc0-ee00-4186-9a7d-f68c055ec2ee":{"name":"status","type":"select","options":[{"id":"22460321-fea2-4c7c-b352-a674760780ac","color":"orange","value":"Idea"},{"id":"41d5f5c6-b53c-42bc-8e0f-fc9402048480","color":"yellow","value":"Draft"},{"id":"c7390b31-9fab-4e21-94ee-7e67ea077a97","color":"blue","value":"Revise"},{"id":"7abc61d4-b405-480d-b699-12588755fa65","color":"red","value":"Published"}]}},"icon":"🎟️","format":{"copied_from_pointer":{"id":"47ddddc3-991e-4ade-a7a4-a99e37f4d3ff","table":"collection","spaceId":"b3580129-1025-4b78-9e73-0a6f39f464ab"},"collection_page_properties":[{"visible":false,"property":"NX\\Q"},{"visible":false,"property":"d]hq"},{"visible":false,"property":"f211bdc0-ee00-4186-9a7d-f68c055ec2ee"},{"visible":false,"property":"sD^m"},{"visible":false,"property":"wz|S"},{"visible":false,"property":"`gQ~"}]},"parent_id":"0eb813c6-179c-43e0-8c12-27cc22341e33","parent_table":"block","alive":true,"file_ids":["6cf3dc36-2f98-4f0e-9679-1bdbb1485129","5520bd92-e709-4c0d-ad58-06923f23f7e9","624d393a-62e3-4464-a1bf-1c79ecd4fbda","d52f6766-3e32-4c3d-8529-46e1f214360f"],"copied_from":"47ddddc3-991e-4ade-a7a4-a99e37f4d3ff","migrated":true,"space_id":"01ff42de-5b53-40d7-a69e-999e3574e640"},"role":"reader"}},"space":{},"collection_view":{"1df80a31-46e8-4fcd-b9a3-dde8ded944c9":{"value":{"id":"1df80a31-46e8-4fcd-b9a3-dde8ded944c9","version":5,"type":"table","name":"Default view","format":{"table_wrap":false,"table_properties":[{"width":416,"visible":true,"property":"title"},{"width":186,"visible":true,"property":"d]hq"},{"width":211,"visible":true,"property":"NX\\Q"},{"width":147,"visible":true,"property":"wz|S"},{"width":222,"visible":true,"property":"sD^m"},{"width":124,"visible":true,"property":"f211bdc0-ee00-4186-9a7d-f68c055ec2ee"},{"width":100,"visible":true,"property":"`gQ~"},{"width":200,"visible":true,"property":"gY~W"},{"width":200,"visible":true,"property":"pzWp"},{"visible":true,"property":"B;[p"}]},"parent_id":"0eb813c6-179c-43e0-8c12-27cc22341e33","parent_table":"block","alive":true,"page_sort":["b1e1d645-db95-42e5-8995-39a80eda6460","e8cd3732-dc1c-43ae-959a-a5a611ec098a","e876558d-e878-47f6-8c95-21be678990a5","5a971ded-d3c5-41be-bef9-ddfff48d43a2","8db8b240-e1c5-4dd7-bf74-72584d7a2ce0","daf94ca4-ec56-47a3-84ed-b1e2479acc4b","d1a2db9b-6820-421e-9b80-017ce7478587","67ea9f83-b9f6-416b-afcb-7c64f7533e6c","45939470-9819-47e8-b12b-999cfefa0aad","c60dc33d-8efb-44be-a863-7a87ad047932","fe4b8d5f-7c49-42c6-a7d5-1cb71c4f7e86","b7233a67-c367-4198-831e-f12089568d1f","4f3bf306-92c4-41b7-a43e-957129a1240a","6a789607-66cf-498e-9b32-eb3fa69a84f4","c9429034-dabd-4a25-8782-97f20c808a60","38c49fe2-37f8-4a7f-a99f-9edb9ddad4c2","474eb638-9f6b-46bf-8004-77668293f199","81d6dfab-69cb-43a0-aa04-e9725f0b67e1","7703d956-84db-46cd-b538-48eae1af68b5","9f937c73-dac9-4ed7-9b01-beefcb321f16","3cf9dcb9-e7db-406c-80ab-c65c11fbf906","5827ab53-e051-455b-b90a-3bdc20158c2c","fa7acd3b-dea9-4fb1-b859-5345f35163c6","696dfc48-62c3-494d-96d0-ec5fa84637e8","79df93cf-9b10-452e-bc62-f39e8cd2d124","9bb8e52d-c459-4528-b1b3-c2378207253a","5da038ef-f419-4a11-aa48-587b3787e040","b4a2c9d4-6a2c-49e6-988d-89a538dfe0f6","c374a479-5cc7-4c54-ba69-6a4d76dc25ad","d470fa67-0e7c-40d8-86ac-9b5a8be88dc8","986be38b-9780-4bb9-bdcd-4e361ddbd888","b7613f56-c2d4-4aae-b967-b7471ade86d0","e357d1fc-7466-4d6a-8d48-71b76ea97cdc","e1735855-4089-4af6-bd4d-0d59f7a76cb4","9b34581a-955a-4229-99d0-8f2a6d0e69ce","b4414811-0599-45cf-b047-fa95eac42d89","c28a8a01-911a-40a2-a607-d3af8cb24017","461d07ae-4b4a-49de-bdcb-341af1153201","3df59023-cb68-4a65-afd1-7f0b8c21cb57","0e3223d1-03df-40fb-90f9-cc8559d776b5","4f45b7d6-cd5b-46ab-b2a6-37ae20bf5f21","fa475a21-5f38-43d4-9a89-67c40b3129ae","97cbc634-fe3a-4b9b-9da6-ac4aaa94772f","8a0d34bc-7e8c-4a68-88a5-5276274f612a","623f8788-a20f-45fd-bb82-08935f59b44d","7ee398f0-450b-47cb-9b53-f5e7736590d2","eae9f077-591e-4841-903b-db395513c834","367d0f2a-0b10-4dbb-b53a-613152f124f9","398e2e28-3997-49bc-a138-0467d4da8531","8aaf4633-e879-44dc-82c8-3c9fb9d3a6f8","1eb5e5f2-8dc9-4ffc-b5e1-09b67be27a83","83465fb9-205b-41fc-83a6-424692ee0a0e","fb1d18d0-6403-4e8a-840e-134553748ff5","4407cb77-3838-4ba5-b474-f15222cd3dba","1880b0f2-e036-42d0-9550-0fb08a962397","d8d60bd6-33f6-458f-a7d6-209ef2fb05a1","29bf65ff-888b-4a76-a8dd-bf54f02c3864","bad1d4ae-fd4a-4671-ae94-dd53d94e0eae","0d59792d-db1c-4ae7-8d7c-4f013be40dcf","337dc259-2805-4b1c-a60f-1b3e6c7badb8","4b1b21a8-c278-4bc6-88f1-1a35d407f4d7","7946aba2-d6d0-45ef-8779-23fa15db8f2d","c18dbce6-9e8c-4f4b-b74a-0994e7c1bc3f","84aa87b7-39e7-493c-87b9-5cae4de95449","1446eadb-8c01-4295-be3a-ecf19361c143","fe8a7d94-e9ba-457d-8f19-10fe53e6ca3c","98a5a0b6-b07b-4065-a73f-2949ad28ac47","6efcebe0-a779-4ec2-a1cb-f77acbb36bf6","c62e81a1-03a9-4b5c-9a55-4e56867de3e4","5514a197-e266-4487-a3ce-95ae17f26bdb","51f3b1a2-a3d5-468a-b552-70d7b0c1a9cb","baacb561-6a62-4343-9e6a-bc1bba469a9c","f24edd31-035d-4744-9275-118e8751f2f9","975051d4-ebbc-4b3f-98cf-1a52e5e4761d","e5d98bee-b2d5-4b45-ab0b-b77da24aebe7","acac2668-1062-4e7a-b095-eda067da8413","179025c4-d8a8-4c47-b621-9fd6a6f3339b","d256e5ed-5eac-43bb-a32e-581774962c23","59520f7f-1fe9-4c70-b059-8655b93e85df","5692c8b3-efa6-4f19-ab2e-4574afc33f46","9c40a253-b9e8-42cd-8a99-62aaa9789a5e","fd348e41-3e72-42d2-8425-be67e8586a28","3128120c-366d-4937-a28a-f18a446f249b","a1d00689-b6f7-418b-888e-0b47edc21286","090eeb36-6c03-462f-9ada-d544c584641f","e97e229c-7a7c-4ce6-81f7-2cf8700e22ab","926771d9-3aab-4640-8dec-b1202f54aa69","b9a5c48f-1b00-4ae9-94bc-f683d6b393ad","30602d25-a696-40ee-b0fa-c252403391cf","a5da67e2-2ac7-4c3a-8833-50d78f853f9b","cf2532d2-7c86-4027-ae70-a81784ff4769","c1e63240-b7fe-4e0e-b753-78a9210b7779","81581b92-d191-4010-8c4f-e2c0e0b4a4ee","69e2cb5f-2c4a-408a-95b5-9d03f8ccfab3","b5b9b1d9-377b-4053-b110-988a9ec54af7","9a223272-0900-4cc3-a503-2515824da515","7c88ce0f-c4be-4335-abfe-adaaa2c6c99e","79bf7035-9dfd-4193-b7d1-cd578a30ac85","a453aa9d-324d-448f-94f0-c8adb4692241","1030c439-2997-45a7-90ca-f2df5de62e3e","1235234b-cfee-4611-8a9b-c6b32b379585","710ff2f6-c05e-4403-b72a-512bb27ab51f","019d0c55-59ee-4247-90c8-5f9017c37ba5","d105e4c2-dfdb-4c58-b8f5-54e182894431","95585600-97d8-4d2c-bf0c-6b9164dbee54","51e53e64-e6dd-4fd6-8062-5d4455f0a1cb","f4ec684b-e5f1-44e9-a8a7-aca27f7ca6f3","177fa228-9099-4dd5-8969-c67f9c78bd0c","d5ab0d7a-0123-473f-84d4-81740defb9b4","548f6d36-c509-4b79-9c4b-59f227c7f550","c0901673-4f5e-4e51-ad87-0217f2d33a0c","0787f8d6-dc99-47c6-946e-2b008814bebc","0ade5216-1103-486a-aff0-a709ff825b02","a2c4dd21-985c-497d-b421-c2d8a9ec0eeb","908a498c-f7e3-4668-8afd-f179a027b4d9","4945e5c3-033d-467c-a8b3-b1479c1fdf0a","854f4584-28d5-43bd-938e-88d0957c78e3","6a6574f8-d63d-4fed-99c5-38f3df0364ac"],"query2":{"filter":{"operator":"and"},"aggregations":[{"property":"title","aggregator":"count"}]},"space_id":"01ff42de-5b53-40d7-a69e-999e3574e640"},"role":"reader"}},"notion_user":{},"collection_query":{},"signed_urls":{}},"emailHash":"b1403da99126eb1e1d174c7cff1f23cf"},"__N_SSG":true},"page":"/[slug]","query":{"slug":"dev-dependencies"},"buildId":"DhM5fGmfFbXFwrDb26KFN","assetPrefix":"/nobelium","runtimeConfig":{"basePath":"/nobelium","assetPrefix":"/nobelium/"},"isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>