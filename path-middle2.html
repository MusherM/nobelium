<!DOCTYPE html><html lang="zh-CN"><head><meta name="viewport" content="width=device-width"/><title>Next.js 踩坑记（3）——路径体操（2）</title><meta name="robots" content="follow, index"/><meta charSet="UTF-8"/><meta name="keywords" content="Blog, Notion, Tech, React, Vue"/><meta name="description" content="进一步讨论 nextjs 中静态资源的路径问题"/><meta property="og:locale" content="zh-CN"/><meta property="og:title" content="Next.js 踩坑记（3）——路径体操（2）"/><meta property="og:description" content="进一步讨论 nextjs 中静态资源的路径问题"/><meta property="og:url" content=""/><meta property="og:image" content="https://og-image-craigary.vercel.app/Next.js%20%E8%B8%A9%E5%9D%91%E8%AE%B0%EF%BC%883%EF%BC%89%E2%80%94%E2%80%94%E8%B7%AF%E5%BE%84%E4%BD%93%E6%93%8D%EF%BC%882%EF%BC%89.png?theme=dark&amp;md=1&amp;fontSize=125px&amp;images=https%3A%2F%2Fnobelium.vercel.app%2Flogo-for-dark-bg.svg"/><meta property="og:type" content="article"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:description" content="进一步讨论 nextjs 中静态资源的路径问题"/><meta name="twitter:title" content="Next.js 踩坑记（3）——路径体操（2）"/><meta name="twitter:image" content="https://og-image-craigary.vercel.app/Next.js%20%E8%B8%A9%E5%9D%91%E8%AE%B0%EF%BC%883%EF%BC%89%E2%80%94%E2%80%94%E8%B7%AF%E5%BE%84%E4%BD%93%E6%93%8D%EF%BC%882%EF%BC%89.png?theme=dark&amp;md=1&amp;fontSize=125px&amp;images=https%3A%2F%2Fnobelium.vercel.app%2Flogo-for-dark-bg.svg"/><meta property="article:published_time"/><meta property="article:author" content="Musher"/><meta name="next-head-count" content="18"/><link rel="preload" href="/nobelium/fonts/IBMPlexSansVar-Roman.woff2" as="font" type="font/woff2" crossorigin="anonymous"/><link rel="preload" href="/nobelium/fonts/IBMPlexSansVar-Italic.woff2" as="font" type="font/woff2" crossorigin="anonymous"/><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"/><link rel="preload" as="style" data-href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@400;500;700&amp;display=swap"/><link rel="stylesheet" data-href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@400;500;700&amp;display=swap"/><noscript><link rel="stylesheet" data-href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@400;500;700&amp;display=swap"/></noscript><link rel="icon" href="/nobelium/favicon.svg" type="image/svg+xml"/><link rel="icon" href="/nobelium/favicon.ico"/><link rel="apple-touch-icon" sizes="192x192" href="/nobelium/apple-touch-icon.png"/><link rel="alternate" type="application/rss+xml" title="RSS 2.0" href="/nobelium/feed"/><meta name="theme-color" content="#ffffff" media="(prefers-color-scheme: light)"/><meta name="theme-color" content="#18181B" media="(prefers-color-scheme: dark)"/><link rel="preload" href="/nobelium/_next/static/css/ddbbae80d81b2f88.css" as="style"/><link rel="stylesheet" href="/nobelium/_next/static/css/ddbbae80d81b2f88.css" data-n-g=""/><link rel="preload" href="/nobelium/_next/static/css/6a5815369e10547f.css" as="style"/><link rel="stylesheet" href="/nobelium/_next/static/css/6a5815369e10547f.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/nobelium/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/nobelium/_next/static/chunks/webpack-017be00eb10a1ae1.js" defer=""></script><script src="/nobelium/_next/static/chunks/main-5b58b7da4815128c.js" defer=""></script><script src="/nobelium/_next/static/chunks/pages/_app-b95f08d6067917bb.js" defer=""></script><script src="/nobelium/_next/static/chunks/b5f2ed29-08db60af0c3043ba.js" defer=""></script><script src="/nobelium/_next/static/chunks/684-63c1a25e215d8bed.js" defer=""></script><script src="/nobelium/_next/static/chunks/580-c0214944b9e37cce.js" defer=""></script><script src="/nobelium/_next/static/chunks/pages/%5Bslug%5D-e6f3f3c220b132e2.js" defer=""></script><script src="/nobelium/_next/static/pLVj_ZB4irF9cq-SHm4_w/_buildManifest.js" defer=""></script><script src="/nobelium/_next/static/pLVj_ZB4irF9cq-SHm4_w/_ssgManifest.js" defer=""></script><script src="/nobelium/_next/static/pLVj_ZB4irF9cq-SHm4_w/_middlewareManifest.js" defer=""></script><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@400;500;700&display=swap"/></head><body class="bg-day dark:bg-night"><div id="__next" data-reactroot=""><div><div class="wrapper font-sans"><div class="observer-element h-4 md:h-12"></div><div class="sticky-nav m-auto w-full h-6 flex flex-row justify-between items-center mb-2 md:mb-12 py-8 bg-opacity-60 max-w-3xl px-4" id="sticky-nav"><div class="flex items-center"><a aria-label="Musher&#x27;s Frontend Coding Blog" href="/nobelium"><div class="h-6"><svg width="28" height="28" viewBox="0 0 28 28" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="14" cy="14" r="14" class="fill-current text-black dark:text-white"></circle><circle cx="14" cy="14" r="14" fill="url(#paint0_radial)"></circle><circle cx="8" cy="8" r="2" fill="white"></circle><defs><radialGradient id="paint0_radial" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="rotate(45) scale(39.598)"><stop stop-color="#7FF72A" stop-opacity="1"></stop><stop offset="1" stop-color="#001FCC" stop-opacity="0.1"></stop></radialGradient></defs></svg></div></a><p class="ml-2 font-medium text-day dark:text-night header-name">Next.js 踩坑记（3）——路径体操（2）</p></div><div class="flex-shrink-0"><ul class="flex flex-row"><li class="block ml-4 text-black dark:text-gray-50 nav"><a href="/nobelium/search">搜索</a></li></ul></div></div><main class="m-auto flex-grow w-full transition-all max-w-3xl px-4"><article><h1 class="font-bold text-3xl text-black dark:text-white">😶‍🌫️<!-- --> <!-- -->Next.js 踩坑记（3）——路径体操（2）</h1><nav class="flex mt-7 items-start text-gray-500 dark:text-gray-400"><div class="flex mb-4"><a href="#" class="flex"><span style="box-sizing:border-box;display:inline-block;overflow:hidden;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;position:relative;max-width:100%"><span style="box-sizing:border-box;display:block;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;max-width:100%"><img style="display:block;max-width:100%;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0" alt="" aria-hidden="true" src="data:image/svg+xml,%3csvg%20xmlns=%27http://www.w3.org/2000/svg%27%20version=%271.1%27%20width=%2724%27%20height=%2724%27/%3e"/></span><img alt="Musher" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="intrinsic" class="rounded-full" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%"/><noscript><img alt="Musher" srcSet="https://gravatar.com/avatar/568c024e516219d57a6ef037a7cc3d32?imwidth=32 1x, https://gravatar.com/avatar/568c024e516219d57a6ef037a7cc3d32?imwidth=48 2x" src="https://gravatar.com/avatar/568c024e516219d57a6ef037a7cc3d32?imwidth=48" decoding="async" data-nimg="intrinsic" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%" class="rounded-full" loading="lazy"/></noscript></span><p class="ml-2 md:block">Musher</p></a><span class="block"> / </span></div><div class="mr-2 mb-4 md:ml-0">2024 年 6 月 12 日</div><div class="flex flex-nowrap max-w-full overflow-x-auto article-tags"><a href="/nobelium/tag/Next.js"><p class="mr-1 rounded-full px-2 py-1 border leading-none text-sm dark:border-gray-600">Next.js</p></a><a href="/nobelium/tag/React"><p class="mr-1 rounded-full px-2 py-1 border leading-none text-sm dark:border-gray-600">React</p></a><a href="/nobelium/tag/Website"><p class="mr-1 rounded-full px-2 py-1 border leading-none text-sm dark:border-gray-600">Website</p></a></div><div> <img src="https://www.notion.so/images/page-cover/rijksmuseum_vermeer_the_milkmaid.jpg"/> </div></nav><div class="-mt-4"><main class="notion light-mode notion-page notion-block-9ca0671db5804105825cd8ef4c531d84"><div class="notion-viewport"></div><div class="notion-collection-row"><div class="notion-collection-row-body"><div class="notion-collection-row-property"><div class="notion-collection-column-title"><svg viewBox="0 0 14 14" class="notion-collection-column-title-icon"><path d="M10.889 5.5H3.11v1.556h7.778V5.5zm1.555-4.444h-.777V0H10.11v1.056H3.89V0H2.333v1.056h-.777c-.864 0-1.548.7-1.548 1.555L0 12.5c0 .856.692 1.5 1.556 1.5h10.888C13.3 14 14 13.356 14 12.5V2.611c0-.855-.7-1.555-1.556-1.555zm0 11.444H1.556V3.944h10.888V12.5zM8.556 8.611H3.11v1.556h5.445V8.61z"></path></svg><div class="notion-collection-column-title-body">date</div></div><div class="notion-collection-row-value"><span class="notion-property notion-property-date">Jun 12, 2024</span></div></div><div class="notion-collection-row-property"><div class="notion-collection-column-title"><svg viewBox="0 0 14 14" class="notion-collection-column-title-icon"><path d="M7 4.568a.5.5 0 00-.5-.5h-6a.5.5 0 00-.5.5v1.046a.5.5 0 00.5.5h6a.5.5 0 00.5-.5V4.568zM.5 1a.5.5 0 00-.5.5v1.045a.5.5 0 00.5.5h12a.5.5 0 00.5-.5V1.5a.5.5 0 00-.5-.5H.5zM0 8.682a.5.5 0 00.5.5h11a.5.5 0 00.5-.5V7.636a.5.5 0 00-.5-.5H.5a.5.5 0 00-.5.5v1.046zm0 3.068a.5.5 0 00.5.5h9a.5.5 0 00.5-.5v-1.045a.5.5 0 00-.5-.5h-9a.5.5 0 00-.5.5v1.045z"></path></svg><div class="notion-collection-column-title-body">slug</div></div><div class="notion-collection-row-value"><span class="notion-property notion-property-text">path-middle2</span></div></div><div class="notion-collection-row-property"><div class="notion-collection-column-title"><svg viewBox="0 0 14 14" class="notion-collection-column-title-icon"><path d="M7 13A6 6 0 107 1a6 6 0 000 12zM3.751 5.323A.2.2 0 013.909 5h6.182a.2.2 0 01.158.323L7.158 9.297a.2.2 0 01-.316 0L3.751 5.323z"></path></svg><div class="notion-collection-column-title-body">status</div></div><div class="notion-collection-row-value"><span class="notion-property notion-property-select"><div class="notion-property-select-item notion-item-red">Published</div></span></div></div><div class="notion-collection-row-property"><div class="notion-collection-column-title"><svg viewBox="0 0 14 14" class="notion-collection-column-title-icon"><path d="M4 3a1 1 0 011-1h7a1 1 0 110 2H5a1 1 0 01-1-1zm0 4a1 1 0 011-1h7a1 1 0 110 2H5a1 1 0 01-1-1zm0 4a1 1 0 011-1h7a1 1 0 110 2H5a1 1 0 01-1-1zM2 4a1 1 0 110-2 1 1 0 010 2zm0 4a1 1 0 110-2 1 1 0 010 2zm0 4a1 1 0 110-2 1 1 0 010 2z"></path></svg><div class="notion-collection-column-title-body">tags</div></div><div class="notion-collection-row-value"><span class="notion-property notion-property-multi_select"><div class="notion-property-multi_select-item notion-item-green">Next.js</div><div class="notion-property-multi_select-item notion-item-gray">React</div><div class="notion-property-multi_select-item notion-item-pink">Website</div></span></div></div><div class="notion-collection-row-property"><div class="notion-collection-column-title"><svg viewBox="0 0 14 14" class="notion-collection-column-title-icon"><path d="M7 4.568a.5.5 0 00-.5-.5h-6a.5.5 0 00-.5.5v1.046a.5.5 0 00.5.5h6a.5.5 0 00.5-.5V4.568zM.5 1a.5.5 0 00-.5.5v1.045a.5.5 0 00.5.5h12a.5.5 0 00.5-.5V1.5a.5.5 0 00-.5-.5H.5zM0 8.682a.5.5 0 00.5.5h11a.5.5 0 00.5-.5V7.636a.5.5 0 00-.5-.5H.5a.5.5 0 00-.5.5v1.046zm0 3.068a.5.5 0 00.5.5h9a.5.5 0 00.5-.5v-1.045a.5.5 0 00-.5-.5h-9a.5.5 0 00-.5.5v1.045z"></path></svg><div class="notion-collection-column-title-body">summary</div></div><div class="notion-collection-row-value"><span class="notion-property notion-property-text">进一步讨论 nextjs 中静态资源的路径问题</span></div></div><div class="notion-collection-row-property"><div class="notion-collection-column-title"><svg viewBox="0 0 14 14" class="notion-collection-column-title-icon"><path d="M7 13A6 6 0 107 1a6 6 0 000 12zM3.751 5.323A.2.2 0 013.909 5h6.182a.2.2 0 01.158.323L7.158 9.297a.2.2 0 01-.316 0L3.751 5.323z"></path></svg><div class="notion-collection-column-title-body">type</div></div><div class="notion-collection-row-value"><span class="notion-property notion-property-select"><div class="notion-property-select-item notion-item-purple">Post</div></span></div></div></div></div><h3 class="notion-h notion-h2 notion-h-indent-0 notion-block-375e599595eb40e8b610cb2d2ac07160" data-id="375e599595eb40e8b610cb2d2ac07160"><span><div id="375e599595eb40e8b610cb2d2ac07160" class="notion-header-anchor"></div><a class="notion-hash-link" href="#375e599595eb40e8b610cb2d2ac07160" title="前言"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">前言</span></span></h3><div class="notion-text notion-block-250198b10c874b52b7ec6fa87384a8c9">在 <a target="_blank" rel="noopener noreferrer" class="notion-link" href="https://musherm.github.io/nobelium/path-middle">Next.js 踩坑记（1）——路径体操</a> 中，我们已经讨论了在 Nextjs 中，当我们部署在一个“子路径”时，如何处理静态资源路径失效的问题，今天我们进一步探讨，内容总结如下：</div><ol start="1" class="notion-list notion-list-numbered notion-block-77e8fb3e6d4542899eef5a6ebafc0812"><li>使用<code class="notion-inline-code">nextconfig</code>中的<code class="notion-inline-code">publicRuntimeConfig</code> 来定义路径，相比于使用环境变量而言更优雅；</li></ol><ol start="2" class="notion-list notion-list-numbered notion-block-340966436813437fb4321512e26756c8"><li><code class="notion-inline-code">publicRuntimeConfig</code> 只能在服务端组件中获取，但往往需要在客户端使用，如何解决该矛盾？</li></ol><h3 class="notion-h notion-h2 notion-h-indent-0 notion-block-1bb39b4ff06044d8aee05869c1077813" data-id="1bb39b4ff06044d8aee05869c1077813"><span><div id="1bb39b4ff06044d8aee05869c1077813" class="notion-header-anchor"></div><a class="notion-hash-link" href="#1bb39b4ff06044d8aee05869c1077813" title="使用publicRuntimeConfig 定义子路径"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">使用<code class="notion-inline-code">publicRuntimeConfig</code> 定义子路径</span></span></h3><div class="notion-text notion-block-321add1f54b14f2fb2ac47fb42c9406d">在后续的开发过程中，我通过在<code class="notion-inline-code">nextconfig</code>中的<code class="notion-inline-code">publicRuntimeConfig</code> 定义一份一模一样的basePath和 assetPath，就像这样：</div><pre class="notion-code language-javascript"><code class="language-javascript"><span class="token comment">/** @type {import('next').NextConfig} */</span>
<span class="token keyword">const</span> isProd <span class="token operator">=</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">===</span> <span class="token string">'production'</span>
<span class="token keyword">const</span> subBasePath <span class="token operator">=</span> <span class="token string">'/Promptopia'</span>
<span class="token keyword">const</span> subAssetPrefix <span class="token operator">=</span> subBasePath <span class="token operator">+</span> <span class="token string">'/'</span>
<span class="token keyword">const</span> nextConfig <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">basePath</span><span class="token operator">:</span> isProd <span class="token operator">?</span> subBasePath <span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
  <span class="token literal-property property">assetPrefix</span><span class="token operator">:</span> isProd <span class="token operator">?</span> subAssetPrefix <span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
  <span class="token literal-property property">publicRuntimeConfig</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">basePath</span><span class="token operator">:</span> isProd <span class="token operator">?</span> subBasePath <span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
    <span class="token literal-property property">assetPrefix</span><span class="token operator">:</span> isProd <span class="token operator">?</span> subAssetPrefix <span class="token operator">:</span> <span class="token string">''</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">experimental</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">serverComponentsExternalPackages</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'mongoose'</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">images</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">domains</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'lh3.googleusercontent.com'</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> nextConfig
</code></pre><div class="notion-text notion-block-fc3f59a7b5b7494fa2605de881b7ee12">然后这样使用：</div><pre class="notion-code language-javascript"><code class="language-javascript"><span class="token keyword">import</span> getConfig <span class="token keyword">from</span> <span class="token string">'next/config'</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> publicRuntimeConfig <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">getConfig</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> basePath <span class="token punctuation">}</span> <span class="token operator">=</span> publicRuntimeConfig</code></pre><div class="notion-text notion-block-609efd3b5d0249ba8396dba1346fcd6a">这种方式其实跟前文使用环境变量的方式是一个道理，只是你不需要再在环境变量里 copy 一份这个路径了，能够统一修改。</div><h3 class="notion-h notion-h2 notion-h-indent-0 notion-block-75bdf29c2ea54b9eb0d6c22e5f646680" data-id="75bdf29c2ea54b9eb0d6c22e5f646680"><span><div id="75bdf29c2ea54b9eb0d6c22e5f646680" class="notion-header-anchor"></div><a class="notion-hash-link" href="#75bdf29c2ea54b9eb0d6c22e5f646680" title="解决该方法只能在服务端组件中使用的问题"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">解决该方法只能在服务端组件中使用的问题</span></span></h3><div class="notion-text notion-block-92a101c24245439aba2c10aeb7b3f686">由于<code class="notion-inline-code">publicRuntimeConfig</code> 只能在服务端组件中获取，但又往往需要在客户端组件中使用，我们很容易想到使用 <code class="notion-inline-code">props</code> 传递，但当组件层级嵌套过深时，就会需要<b>逐级传递</b>，这是我们不需要看到的，在 React 中，我们使用 <a target="_blank" rel="noopener noreferrer" class="notion-link" href="https://zh-hans.react.dev/learn/passing-data-deeply-with-context">Context</a> 组件来解决该问题。</div><div class="notion-text notion-block-def8484ac2e4445d8daf765890bb65c8">你可能会想到，我在一个组件通过<code class="notion-inline-code">publicRuntimeConfig</code> 来获取子路径，再通过 Context 组件提供上下文并导出，不就可以到处用了吗，这就带来我们面临的矛盾：</div><ul class="notion-list notion-list-disc notion-block-cc0d3664aaa04049bf5ace284f2acad4"><li><code class="notion-inline-code">publicRuntimeConfig</code> 只能在服务端调用，而 <code class="notion-inline-code">useContext</code> 则正好相反，只能在客户端调用（本质上和 <code class="notion-inline-code">useState</code> 一样，是 <code class="notion-inline-code">hook</code>）</li></ul><div class="notion-text notion-block-8469ef853eb04cd99d7ad72afbd5d6ce">所以“获取数据”和“提供上下文”这两件事就无法在同一层级完成，我们<b>必须</b>在处于更高层级的服务端组件中获取数据，通过 <code class="notion-inline-code">props</code> 传递给当前层级的客户端组件，再在客户端组件中通过 <code class="notion-inline-code">Context</code> 组件提供上下文给后面层级的组件，实践如下：</div><div class="notion-text notion-block-419ef09105db4feca523920a43c4e6c4">首先，我们需要创建一个 Context 组件：</div><pre class="notion-code language-javascript"><code class="language-javascript"><span class="token comment">// Context/basePathContext.js</span>
<span class="token string">'use client'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> createContext <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span>

<span class="token keyword">const</span> basePathContext <span class="token operator">=</span> <span class="token function">createContext</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> basePathContext</code></pre><div class="notion-text notion-block-b712d072f3d943019d82f7c960addfea">然后，我们需要在服务端组件中获取数据并传递给子组件：</div><pre class="notion-code language-javascript"><code class="language-javascript"><span class="token comment">// app/page.jsx</span>
<span class="token keyword">import</span> Feed <span class="token keyword">from</span> <span class="token string">'@/components/Feed'</span>
<span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span>
<span class="token keyword">import</span> getConfig <span class="token keyword">from</span> <span class="token string">'next/config'</span>

<span class="token keyword">const</span> <span class="token function-variable function">Home</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> publicRuntimeConfig <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">getConfig</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> basePath <span class="token punctuation">}</span> <span class="token operator">=</span> publicRuntimeConfig

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>section className<span class="token operator">=</span><span class="token string">"w-full flex-center flex-col"</span><span class="token operator">></span>
    <span class="token punctuation">{</span><span class="token comment">//***}</span>
      <span class="token operator">&lt;</span>Feed basePath<span class="token operator">=</span><span class="token punctuation">{</span>basePath<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>
    <span class="token punctuation">{</span><span class="token comment">//***}</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>section<span class="token operator">></span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> Home
</code></pre><div class="notion-text notion-block-d459af8b9a304a2da9f8277ac25666ef">在子组件中，接受数据并调用<code class="notion-inline-code">basePathContext.Provider</code> 为更深层级提供上下文：</div><pre class="notion-code language-javascript"><code class="language-javascript"><span class="token comment">// components/Feed.jsx</span>
<span class="token string">'use client'</span>
<span class="token keyword">import</span> basePathContext <span class="token keyword">from</span> <span class="token string">'@/context/basePathContext'</span>

<span class="token keyword">const</span> <span class="token function-variable function">Feed</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> basePath <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>basePathContext<span class="token punctuation">.</span>Provider value<span class="token operator">=</span><span class="token punctuation">{</span>basePath<span class="token punctuation">}</span><span class="token operator">></span>
      <span class="token operator">&lt;</span>PromptCard<span class="token operator">/</span><span class="token operator">></span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>basePathContext<span class="token punctuation">.</span>Provider<span class="token operator">></span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> Feed</code></pre><div class="notion-text notion-block-dcd50f7c307a445394428f4498225639">在后续的层级中，就可以通过<code class="notion-inline-code">useContext(basePathContext)</code>来获取这个值</div><pre class="notion-code language-javascript"><code class="language-javascript"><span class="token comment">// components/PromptCard.jsx</span>
<span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> useContext<span class="token punctuation">,</span> useState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span>
<span class="token keyword">import</span> basePathContext <span class="token keyword">from</span> <span class="token string">'@/context/basePathContext'</span>

<span class="token keyword">const</span> basePath <span class="token operator">=</span> <span class="token function">useContext</span><span class="token punctuation">(</span>basePathContext<span class="token punctuation">)</span></code></pre><h3 class="notion-h notion-h2 notion-h-indent-0 notion-block-06bacc51b4d248aab11e2a4a57d7ad5d" data-id="06bacc51b4d248aab11e2a4a57d7ad5d"><span><div id="06bacc51b4d248aab11e2a4a57d7ad5d" class="notion-header-anchor"></div><a class="notion-hash-link" href="#06bacc51b4d248aab11e2a4a57d7ad5d" title="总结"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">总结</span></span></h3><div class="notion-text notion-block-ab301f5803224be8a1f50446c95be5fa">也许这个问题我们可以通过哪里需要使用路径，哪里就调用环境变量来解决，但这并不只解决了一个简单的子路径部署问题，而是解决了“仅客户端可用”和“仅服务端可用”的矛盾问题，我们通过这样的方式，可以实现在客户端使用任意的“仅服务端可用变量”。</div></main></div></article><div class="flex justify-between font-medium text-gray-500 dark:text-gray-400"><a><button class="mt-2 cursor-pointer hover:text-black dark:hover:text-gray-100">← <!-- -->返回</button></a><a><button class="mt-2 cursor-pointer hover:text-black dark:hover:text-gray-100">↑ <!-- -->回到顶部</button></a></div><div></div></main><div class="mt-6 flex-shrink-0 m-auto w-full text-gray-500 dark:text-gray-400 transition-all max-w-3xl px-4"><hr class="border-gray-200 dark:border-gray-600"/><div class="my-4 text-sm leading-6"><div class="flex align-baseline justify-between flex-wrap"><p>© <!-- -->Musher<!-- --> <!-- -->2019 - 2024</p><p>powered by <a href="https://github.com/craigary/nobelium"><u>nobelium</u></a></p></div></div></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"id":"9ca0671d-b580-4105-825c-d8ef4c531d84","date":{"start_date":"2024-06-12"},"type":["Post"],"slug":"path-middle2","tags":["Next.js","React","Website"],"summary":"进一步讨论 nextjs 中静态资源的路径问题","title":"Next.js 踩坑记（3）——路径体操（2）","status":["Published"],"createdTime":"Wed Jun 12 2024 03:42:03 GMT+0000 (Coordinated Universal Time)","fullWidth":false,"pageIcon":"😶‍🌫️","pageCover":"/images/page-cover/rijksmuseum_vermeer_the_milkmaid.jpg"},"blockMap":{"block":{"9ca0671d-b580-4105-825c-d8ef4c531d84":{"value":{"id":"9ca0671d-b580-4105-825c-d8ef4c531d84","version":262,"type":"page","properties":{"NX\\Q":[["‣",[["d",{"type":"date","start_date":"2024-06-12"}]]]],"`gQ~":[["Post"]],"d]hq":[["path-middle2"]],"sD^m":[["Next.js,React,Website"]],"wz|S":[["进一步讨论 nextjs 中静态资源的路径问题"]],"title":[["Next.js 踩坑记（3）——路径体操（2）"]],"f211bdc0-ee00-4186-9a7d-f68c055ec2ee":[["Published"]]},"content":["375e5995-95eb-40e8-b610-cb2d2ac07160","250198b1-0c87-4b52-b7ec-6fa87384a8c9","77e8fb3e-6d45-4289-9eef-5a6ebafc0812","34096643-6813-437f-b432-1512e26756c8","1bb39b4f-f060-44d8-aee0-5869c1077813","321add1f-54b1-4f2f-b2ac-47fb42c9406d","562b1710-6da5-4db1-9e9b-eebc76d7888e","fc3f59a7-b5b7-494f-a260-5de881b7ee12","7ce08a08-261e-4911-a0ae-00b7c565f956","609efd3b-5d02-49ba-8396-dba1346fcd6a","75bdf29c-2ea5-4b9e-b0d6-c22e5f646680","92a101c2-4245-439a-ba2c-10aeb7b3f686","def8484a-c2e4-445d-8daf-765890bb65c8","cc0d3664-aaa0-4049-bf5a-ce284f2acad4","8469ef85-3eb0-4cd9-9d7a-d72afbd5d6ce","419ef091-05db-4fec-a523-920a43c4e6c4","367cdd13-bf9b-4dd4-8460-271c64fde2bd","b712d072-f3d9-4301-9d82-f7c960addfea","3cccf1f9-caa5-4cd5-918a-4bd6b7ee9074","d459af8b-9a30-4a2d-a9f8-277ac25666ef","1347a88c-2a56-4c60-922c-abc3fce95104","dcd50f7c-307a-4453-9442-8f4498225639","76023b7f-eb4e-4261-a2e1-0d81a64994a2","06bacc51-b4d2-48aa-b11e-2a4a57d7ad5d","ab301f58-0322-4be8-a1f5-0446c95be5fa"],"format":{"page_icon":"😶‍🌫️","page_cover":"/images/page-cover/rijksmuseum_vermeer_the_milkmaid.jpg","page_cover_position":0.4},"created_time":1718163723302,"last_edited_time":1718165387000,"parent_id":"4126d965-c550-46af-bc34-c038f0103084","parent_table":"collection","alive":true,"created_by_table":"notion_user","created_by_id":"4e783237-cc83-440e-9604-bac369009c55","last_edited_by_table":"notion_user","last_edited_by_id":"4e783237-cc83-440e-9604-bac369009c55","space_id":"01ff42de-5b53-40d7-a69e-999e3574e640"},"role":"reader"},"0eb813c6-179c-43e0-8c12-27cc22341e33":{"value":{"id":"0eb813c6-179c-43e0-8c12-27cc22341e33","version":37,"type":"collection_view_page","view_ids":["1df80a31-46e8-4fcd-b9a3-dde8ded944c9"],"collection_id":"4126d965-c550-46af-bc34-c038f0103084","format":{"block_locked":false,"block_locked_by":"2c0e0b01-f59e-4e03-b7b6-7d706eecada3","collection_pointer":{"id":"4126d965-c550-46af-bc34-c038f0103084","table":"collection","spaceId":"01ff42de-5b53-40d7-a69e-999e3574e640"},"copied_from_pointer":{"id":"ee99f65a-23ab-44f8-ac80-270122ee8138","table":"block","spaceId":"b3580129-1025-4b78-9e73-0a6f39f464ab"}},"permissions":[{"role":"editor","type":"user_permission","user_id":"4e783237-cc83-440e-9604-bac369009c55"},{"role":"reader","type":"public_permission","added_timestamp":1716963272589}],"created_time":1716962484995,"last_edited_time":1718352944249,"parent_id":"01ff42de-5b53-40d7-a69e-999e3574e640","parent_table":"space","alive":true,"copied_from":"ee99f65a-23ab-44f8-ac80-270122ee8138","created_by_table":"notion_user","created_by_id":"4e783237-cc83-440e-9604-bac369009c55","last_edited_by_table":"notion_user","last_edited_by_id":"4e783237-cc83-440e-9604-bac369009c55","space_id":"01ff42de-5b53-40d7-a69e-999e3574e640"},"role":"reader"},"375e5995-95eb-40e8-b610-cb2d2ac07160":{"value":{"id":"375e5995-95eb-40e8-b610-cb2d2ac07160","version":38,"type":"sub_header","properties":{"title":[["前言"]]},"created_time":1718163939909,"last_edited_time":1718163946452,"parent_id":"9ca0671d-b580-4105-825c-d8ef4c531d84","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"4e783237-cc83-440e-9604-bac369009c55","last_edited_by_table":"notion_user","last_edited_by_id":"4e783237-cc83-440e-9604-bac369009c55","space_id":"01ff42de-5b53-40d7-a69e-999e3574e640"},"role":"reader"},"250198b1-0c87-4b52-b7ec-6fa87384a8c9":{"value":{"id":"250198b1-0c87-4b52-b7ec-6fa87384a8c9","version":501,"type":"text","properties":{"title":[["在 "],["Next.js 踩坑记（1）——路径体操",[["a","https://musherm.github.io/nobelium/path-middle"]]],[" 中，我们已经讨论了在 Nextjs 中，当我们部署在一个“子路径”时，如何处理静态资源路径失效的问题，今天我们进一步探讨，内容总结如下："]]},"created_time":1718163807098,"last_edited_time":1718163937525,"parent_id":"9ca0671d-b580-4105-825c-d8ef4c531d84","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"4e783237-cc83-440e-9604-bac369009c55","last_edited_by_table":"notion_user","last_edited_by_id":"4e783237-cc83-440e-9604-bac369009c55","space_id":"01ff42de-5b53-40d7-a69e-999e3574e640"},"role":"reader"},"77e8fb3e-6d45-4289-9eef-5a6ebafc0812":{"value":{"id":"77e8fb3e-6d45-4289-9eef-5a6ebafc0812","version":358,"type":"numbered_list","properties":{"title":[["使用"],["nextconfig",[["c"]]],["中的"],["publicRuntimeConfig",[["c"]]],[" 来定义路径，相比于使用环境变量而言更优雅；"]]},"created_time":1718163947534,"last_edited_time":1718164212986,"parent_id":"9ca0671d-b580-4105-825c-d8ef4c531d84","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"4e783237-cc83-440e-9604-bac369009c55","last_edited_by_table":"notion_user","last_edited_by_id":"4e783237-cc83-440e-9604-bac369009c55","space_id":"01ff42de-5b53-40d7-a69e-999e3574e640"},"role":"reader"},"34096643-6813-437f-b432-1512e26756c8":{"value":{"id":"34096643-6813-437f-b432-1512e26756c8","version":450,"type":"numbered_list","properties":{"title":[["publicRuntimeConfig",[["c"]]],[" 只能在服务端组件中获取，但往往需要在客户端使用，如何解决该矛盾？"]]},"created_time":1718164213133,"last_edited_time":1718164288439,"parent_id":"9ca0671d-b580-4105-825c-d8ef4c531d84","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"4e783237-cc83-440e-9604-bac369009c55","last_edited_by_table":"notion_user","last_edited_by_id":"4e783237-cc83-440e-9604-bac369009c55","space_id":"01ff42de-5b53-40d7-a69e-999e3574e640"},"role":"reader"},"1bb39b4f-f060-44d8-aee0-5869c1077813":{"value":{"id":"1bb39b4f-f060-44d8-aee0-5869c1077813","version":70,"type":"sub_header","properties":{"title":[["使用"],["publicRuntimeConfig",[["c"]]],[" 定义子路径"]]},"created_time":1718164292207,"last_edited_time":1718164310076,"parent_id":"9ca0671d-b580-4105-825c-d8ef4c531d84","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"4e783237-cc83-440e-9604-bac369009c55","last_edited_by_table":"notion_user","last_edited_by_id":"4e783237-cc83-440e-9604-bac369009c55","space_id":"01ff42de-5b53-40d7-a69e-999e3574e640"},"role":"reader"},"321add1f-54b1-4f2f-b2ac-47fb42c9406d":{"value":{"id":"321add1f-54b1-4f2f-b2ac-47fb42c9406d","version":2,"type":"text","properties":{"title":[["在后续的开发过程中，我通过在"],["nextconfig",[["c"]]],["中的"],["publicRuntimeConfig",[["c"]]],[" 定义一份一模一样的basePath和 assetPath，就像这样："]]},"created_time":1718163914558,"last_edited_time":1718163914564,"parent_id":"9ca0671d-b580-4105-825c-d8ef4c531d84","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"4e783237-cc83-440e-9604-bac369009c55","last_edited_by_table":"notion_user","last_edited_by_id":"4e783237-cc83-440e-9604-bac369009c55","space_id":"01ff42de-5b53-40d7-a69e-999e3574e640"},"role":"reader"},"562b1710-6da5-4db1-9e9b-eebc76d7888e":{"value":{"id":"562b1710-6da5-4db1-9e9b-eebc76d7888e","version":2,"type":"code","properties":{"title":[["/** @type {import('next').NextConfig} */\nconst isProd = process.env.NODE_ENV === 'production'\nconst subBasePath = '/Promptopia'\nconst subAssetPrefix = subBasePath + '/'\nconst nextConfig = {\n  basePath: isProd ? subBasePath : '',\n  assetPrefix: isProd ? subAssetPrefix : '',\n  publicRuntimeConfig: {\n    basePath: isProd ? subBasePath : '',\n    assetPrefix: isProd ? subAssetPrefix : ''\n  },\n  experimental: {\n    serverComponentsExternalPackages: ['mongoose']\n  },\n  images: {\n    domains: ['lh3.googleusercontent.com']\n  }\n}\n\nexport default nextConfig\n"]],"language":[["JavaScript"]]},"format":{"code_wrap":true},"created_time":1718163914559,"last_edited_time":1718163914564,"parent_id":"9ca0671d-b580-4105-825c-d8ef4c531d84","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"4e783237-cc83-440e-9604-bac369009c55","last_edited_by_table":"notion_user","last_edited_by_id":"4e783237-cc83-440e-9604-bac369009c55","space_id":"01ff42de-5b53-40d7-a69e-999e3574e640"},"role":"reader"},"fc3f59a7-b5b7-494f-a260-5de881b7ee12":{"value":{"id":"fc3f59a7-b5b7-494f-a260-5de881b7ee12","version":2,"type":"text","properties":{"title":[["然后这样使用："]]},"created_time":1718163914559,"last_edited_time":1718163914564,"parent_id":"9ca0671d-b580-4105-825c-d8ef4c531d84","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"4e783237-cc83-440e-9604-bac369009c55","last_edited_by_table":"notion_user","last_edited_by_id":"4e783237-cc83-440e-9604-bac369009c55","space_id":"01ff42de-5b53-40d7-a69e-999e3574e640"},"role":"reader"},"7ce08a08-261e-4911-a0ae-00b7c565f956":{"value":{"id":"7ce08a08-261e-4911-a0ae-00b7c565f956","version":4,"type":"code","properties":{"title":[["import getConfig from 'next/config'\nconst { publicRuntimeConfig } = getConfig()\nconst { basePath } = publicRuntimeConfig"]],"language":[["JavaScript"]]},"format":{"code_wrap":true},"created_time":1718163914559,"last_edited_time":1718164314063,"parent_id":"9ca0671d-b580-4105-825c-d8ef4c531d84","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"4e783237-cc83-440e-9604-bac369009c55","last_edited_by_table":"notion_user","last_edited_by_id":"4e783237-cc83-440e-9604-bac369009c55","space_id":"01ff42de-5b53-40d7-a69e-999e3574e640"},"role":"reader"},"609efd3b-5d02-49ba-8396-dba1346fcd6a":{"value":{"id":"609efd3b-5d02-49ba-8396-dba1346fcd6a","version":32,"type":"text","properties":{"title":[["这种方式其实跟前文使用环境变量的方式是一个道理，只是你不需要再在环境变量里 copy 一份这个路径了，能够统一修改。"]]},"created_time":1718163914559,"last_edited_time":1718164320032,"parent_id":"9ca0671d-b580-4105-825c-d8ef4c531d84","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"4e783237-cc83-440e-9604-bac369009c55","last_edited_by_table":"notion_user","last_edited_by_id":"4e783237-cc83-440e-9604-bac369009c55","space_id":"01ff42de-5b53-40d7-a69e-999e3574e640"},"role":"reader"},"75bdf29c-2ea5-4b9e-b0d6-c22e5f646680":{"value":{"id":"75bdf29c-2ea5-4b9e-b0d6-c22e5f646680","version":145,"type":"sub_header","properties":{"title":[["解决该方法只能在服务端组件中使用的问题"]]},"created_time":1718164322811,"last_edited_time":1718164343357,"parent_id":"9ca0671d-b580-4105-825c-d8ef4c531d84","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"4e783237-cc83-440e-9604-bac369009c55","last_edited_by_table":"notion_user","last_edited_by_id":"4e783237-cc83-440e-9604-bac369009c55","space_id":"01ff42de-5b53-40d7-a69e-999e3574e640"},"role":"reader"},"92a101c2-4245-439a-ba2c-10aeb7b3f686":{"value":{"id":"92a101c2-4245-439a-ba2c-10aeb7b3f686","version":620,"type":"text","properties":{"title":[["由于"],["publicRuntimeConfig",[["c"]]],[" 只能在服务端组件中获取，但又往往需要在客户端组件中使用，我们很容易想到使用 "],["props",[["c"]]],[" 传递，但当组件层级嵌套过深时，就会需要"],["逐级传递",[["b"]]],["，这是我们不需要看到的，在 React 中，我们使用 "],["Context",[["a","https://zh-hans.react.dev/learn/passing-data-deeply-with-context"]]],[" 组件来解决该问题。"]]},"created_time":1718164343631,"last_edited_time":1718164463088,"parent_id":"9ca0671d-b580-4105-825c-d8ef4c531d84","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"4e783237-cc83-440e-9604-bac369009c55","last_edited_by_table":"notion_user","last_edited_by_id":"4e783237-cc83-440e-9604-bac369009c55","space_id":"01ff42de-5b53-40d7-a69e-999e3574e640"},"role":"reader"},"def8484a-c2e4-445d-8daf-765890bb65c8":{"value":{"id":"def8484a-c2e4-445d-8daf-765890bb65c8","version":593,"type":"text","properties":{"title":[["你可能会想到，我在一个组件通过"],["publicRuntimeConfig",[["c"]]],[" 来获取子路径，再通过 Context 组件提供上下文并导出，不就可以到处用了吗，这就带来我们面临的矛盾："]]},"created_time":1718164469282,"last_edited_time":1718164548023,"parent_id":"9ca0671d-b580-4105-825c-d8ef4c531d84","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"4e783237-cc83-440e-9604-bac369009c55","last_edited_by_table":"notion_user","last_edited_by_id":"4e783237-cc83-440e-9604-bac369009c55","space_id":"01ff42de-5b53-40d7-a69e-999e3574e640"},"role":"reader"},"cc0d3664-aaa0-4049-bf5a-ce284f2acad4":{"value":{"id":"cc0d3664-aaa0-4049-bf5a-ce284f2acad4","version":275,"type":"bulleted_list","properties":{"title":[["publicRuntimeConfig",[["c"]]],[" 只能在服务端调用，而 "],["useContext",[["c"]]],[" 则正好相反，只能在客户端调用（本质上和 "],["useState",[["c"]]],[" 一样，是 "],["hook",[["c"]]],["）"]]},"created_time":1718164548228,"last_edited_time":1718164653364,"parent_id":"9ca0671d-b580-4105-825c-d8ef4c531d84","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"4e783237-cc83-440e-9604-bac369009c55","last_edited_by_table":"notion_user","last_edited_by_id":"4e783237-cc83-440e-9604-bac369009c55","space_id":"01ff42de-5b53-40d7-a69e-999e3574e640"},"role":"reader"},"8469ef85-3eb0-4cd9-9d7a-d72afbd5d6ce":{"value":{"id":"8469ef85-3eb0-4cd9-9d7a-d72afbd5d6ce","version":733,"type":"text","properties":{"title":[["所以“获取数据”和“提供上下文”这两件事就无法在同一层级完成，我们"],["必须",[["b"]]],["在处于更高层级的服务端组件中获取数据，通过 "],["props",[["c"]]],[" 传递给当前层级的客户端组件，再在客户端组件中通过 "],["Context",[["c"]]],[" 组件提供上下文给后面层级的组件，实践如下："]]},"created_time":1718164658218,"last_edited_time":1718164775110,"parent_id":"9ca0671d-b580-4105-825c-d8ef4c531d84","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"4e783237-cc83-440e-9604-bac369009c55","last_edited_by_table":"notion_user","last_edited_by_id":"4e783237-cc83-440e-9604-bac369009c55","space_id":"01ff42de-5b53-40d7-a69e-999e3574e640"},"role":"reader"},"419ef091-05db-4fec-a523-920a43c4e6c4":{"value":{"id":"419ef091-05db-4fec-a523-920a43c4e6c4","version":138,"type":"text","properties":{"title":[["首先，我们需要创建一个 Context 组件："]]},"created_time":1718164775396,"last_edited_time":1718164789221,"parent_id":"9ca0671d-b580-4105-825c-d8ef4c531d84","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"4e783237-cc83-440e-9604-bac369009c55","last_edited_by_table":"notion_user","last_edited_by_id":"4e783237-cc83-440e-9604-bac369009c55","space_id":"01ff42de-5b53-40d7-a69e-999e3574e640"},"role":"reader"},"367cdd13-bf9b-4dd4-8460-271c64fde2bd":{"value":{"id":"367cdd13-bf9b-4dd4-8460-271c64fde2bd","version":104,"type":"code","properties":{"title":[["// Context/basePathContext.js\n'use client'\nimport { createContext } from 'react'\n\nconst basePathContext = createContext('')\nexport default basePathContext"]],"language":[["JavaScript"]]},"created_time":1718164789388,"last_edited_time":1718164820236,"parent_id":"9ca0671d-b580-4105-825c-d8ef4c531d84","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"4e783237-cc83-440e-9604-bac369009c55","last_edited_by_table":"notion_user","last_edited_by_id":"4e783237-cc83-440e-9604-bac369009c55","space_id":"01ff42de-5b53-40d7-a69e-999e3574e640"},"role":"reader"},"b712d072-f3d9-4301-9d82-f7c960addfea":{"value":{"id":"b712d072-f3d9-4301-9d82-f7c960addfea","version":218,"type":"text","properties":{"title":[["然后，我们需要在服务端组件中获取数据并传递给子组件："]]},"created_time":1718164822284,"last_edited_time":1718164899174,"parent_id":"9ca0671d-b580-4105-825c-d8ef4c531d84","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"4e783237-cc83-440e-9604-bac369009c55","last_edited_by_table":"notion_user","last_edited_by_id":"4e783237-cc83-440e-9604-bac369009c55","space_id":"01ff42de-5b53-40d7-a69e-999e3574e640"},"role":"reader"},"3cccf1f9-caa5-4cd5-918a-4bd6b7ee9074":{"value":{"id":"3cccf1f9-caa5-4cd5-918a-4bd6b7ee9074","version":137,"type":"code","properties":{"title":[["// app/page.jsx\nimport Feed from '@/components/Feed'\nimport React from 'react'\nimport getConfig from 'next/config'\n\nconst Home = () =\u003e {\n  const { publicRuntimeConfig } = getConfig()\n  const { basePath } = publicRuntimeConfig\n\n  return (\n    \u003csection className=\"w-full flex-center flex-col\"\u003e\n    {//***}\n      \u003cFeed basePath={basePath} /\u003e\n    {//***}\n    \u003c/section\u003e\n  )\n}\n\nexport default Home\n"]],"language":[["JavaScript"]]},"created_time":1718164848416,"last_edited_time":1718165153601,"parent_id":"9ca0671d-b580-4105-825c-d8ef4c531d84","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"4e783237-cc83-440e-9604-bac369009c55","last_edited_by_table":"notion_user","last_edited_by_id":"4e783237-cc83-440e-9604-bac369009c55","space_id":"01ff42de-5b53-40d7-a69e-999e3574e640"},"role":"reader"},"d459af8b-9a30-4a2d-a9f8-277ac25666ef":{"value":{"id":"d459af8b-9a30-4a2d-a9f8-277ac25666ef","version":208,"type":"text","properties":{"title":[["在子组件中，接受数据并调用"],["basePathContext.Provider",[["c"]]],[" 为更深层级提供上下文："]]},"created_time":1718164931955,"last_edited_time":1718164975532,"parent_id":"9ca0671d-b580-4105-825c-d8ef4c531d84","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"4e783237-cc83-440e-9604-bac369009c55","last_edited_by_table":"notion_user","last_edited_by_id":"4e783237-cc83-440e-9604-bac369009c55","space_id":"01ff42de-5b53-40d7-a69e-999e3574e640"},"role":"reader"},"1347a88c-2a56-4c60-922c-abc3fce95104":{"value":{"id":"1347a88c-2a56-4c60-922c-abc3fce95104","version":141,"type":"code","properties":{"title":[["// components/Feed.jsx\n'use client'\nimport basePathContext from '@/context/basePathContext'\n\nconst Feed = ({ basePath }) =\u003e {\n  return (\n    \u003cbasePathContext.Provider value={basePath}\u003e\n      \u003cPromptCard/\u003e\n    \u003c/basePathContext.Provider\u003e\n  )\n}\n\nexport default Feed"]],"language":[["JavaScript"]]},"created_time":1718164975709,"last_edited_time":1718165193683,"parent_id":"9ca0671d-b580-4105-825c-d8ef4c531d84","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"4e783237-cc83-440e-9604-bac369009c55","last_edited_by_table":"notion_user","last_edited_by_id":"4e783237-cc83-440e-9604-bac369009c55","space_id":"01ff42de-5b53-40d7-a69e-999e3574e640"},"role":"reader"},"dcd50f7c-307a-4453-9442-8f4498225639":{"value":{"id":"dcd50f7c-307a-4453-9442-8f4498225639","version":158,"type":"text","properties":{"title":[["在后续的层级中，就可以通过"],["useContext(basePathContext)",[["c"]]],["来获取这个值"]]},"created_time":1718165030338,"last_edited_time":1718165078479,"parent_id":"9ca0671d-b580-4105-825c-d8ef4c531d84","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"4e783237-cc83-440e-9604-bac369009c55","last_edited_by_table":"notion_user","last_edited_by_id":"4e783237-cc83-440e-9604-bac369009c55","space_id":"01ff42de-5b53-40d7-a69e-999e3574e640"},"role":"reader"},"76023b7f-eb4e-4261-a2e1-0d81a64994a2":{"value":{"id":"76023b7f-eb4e-4261-a2e1-0d81a64994a2","version":85,"type":"code","properties":{"title":[["// components/PromptCard.jsx\nimport React, { useContext, useState } from 'react'\nimport basePathContext from '@/context/basePathContext'\n\nconst basePath = useContext(basePathContext)"]],"language":[["JavaScript"]]},"created_time":1718165079262,"last_edited_time":1718165188656,"parent_id":"9ca0671d-b580-4105-825c-d8ef4c531d84","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"4e783237-cc83-440e-9604-bac369009c55","last_edited_by_table":"notion_user","last_edited_by_id":"4e783237-cc83-440e-9604-bac369009c55","space_id":"01ff42de-5b53-40d7-a69e-999e3574e640"},"role":"reader"},"06bacc51-b4d2-48aa-b11e-2a4a57d7ad5d":{"value":{"id":"06bacc51-b4d2-48aa-b11e-2a4a57d7ad5d","version":23,"type":"sub_header","properties":{"title":[["总结"]]},"created_time":1718165195637,"last_edited_time":1718165242151,"parent_id":"9ca0671d-b580-4105-825c-d8ef4c531d84","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"4e783237-cc83-440e-9604-bac369009c55","last_edited_by_table":"notion_user","last_edited_by_id":"4e783237-cc83-440e-9604-bac369009c55","space_id":"01ff42de-5b53-40d7-a69e-999e3574e640"},"role":"reader"},"ab301f58-0322-4be8-a1f5-0446c95be5fa":{"value":{"id":"ab301f58-0322-4be8-a1f5-0446c95be5fa","version":806,"type":"text","properties":{"title":[["也许这个问题我们可以通过哪里需要使用路径，哪里就调用环境变量来解决，但这并不只解决了一个简单的子路径部署问题，而是解决了“仅客户端可用”和“仅服务端可用”的矛盾问题，我们通过这样的方式，可以实现在客户端使用任意的“仅服务端可用变量”。"]]},"created_time":1718165242402,"last_edited_time":1718165377720,"parent_id":"9ca0671d-b580-4105-825c-d8ef4c531d84","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"4e783237-cc83-440e-9604-bac369009c55","last_edited_by_table":"notion_user","last_edited_by_id":"4e783237-cc83-440e-9604-bac369009c55","space_id":"01ff42de-5b53-40d7-a69e-999e3574e640"},"role":"reader"}},"collection":{"4126d965-c550-46af-bc34-c038f0103084":{"value":{"id":"4126d965-c550-46af-bc34-c038f0103084","version":7,"name":[["NOBELIUM Template"]],"schema":{"NX\\Q":{"name":"date","type":"date","description":""},"`gQ~":{"name":"type","type":"select","options":[{"id":"5aff2f95-fd1e-489b-8840-bf10bc9519cb","color":"purple","value":"Post"},{"id":"374d2bc6-a144-4832-8ca4-474aaae0ea1f","color":"orange","value":"Page"}]},"d]hq":{"name":"slug","type":"text"},"sD^m":{"name":"tags","type":"multi_select","options":[{"id":"b67fb051-ddd9-43b5-9fdf-7b7f97a2e056","color":"yellow","value":"Jekyll"},{"id":"2382b30f-9881-4a8b-ae7f-2d34979c4fb9","color":"pink","value":"Website"},{"id":"674b2636-c585-4057-8a6d-0d6ab9718f90","color":"blue","value":"Cooking"},{"id":"499d31ac-26f2-4fed-9ec4-17afe3c6d90d","color":"red","value":"Sociology"},{"id":"38611f8e-ab81-4a71-8d40-7bad1370b26a","color":"orange","value":"TEMP"},{"id":"1ad9233c-079a-44c7-98c3-24ed2faf1879","color":"purple","value":"Book"},{"id":"a3d8eb51-77ce-4e83-a9ae-68da9cee63fa","color":"default","value":"Design"},{"id":"87df7c95-06f0-477a-a530-14be415a1dcf","color":"gray","value":"React"},{"id":"76cb8fea-49e8-47c1-a982-b3a8a23d2278","color":"green","value":"Next.js"},{"id":"63e95905-41f5-4027-8bd4-330129476432","color":"brown","value":"TODO"},{"id":"6dbab06e-0532-484d-9c94-9be429b2abf8","color":"red","value":"Nobelium"},{"id":"a7dda041-f452-423c-b00f-dbe7402400ca","color":"pink","value":"JavaScript"}]},"wz|S":{"name":"summary","type":"text"},"title":{"name":"title","type":"title"},"f211bdc0-ee00-4186-9a7d-f68c055ec2ee":{"name":"status","type":"select","options":[{"id":"22460321-fea2-4c7c-b352-a674760780ac","color":"orange","value":"Idea"},{"id":"41d5f5c6-b53c-42bc-8e0f-fc9402048480","color":"yellow","value":"Draft"},{"id":"c7390b31-9fab-4e21-94ee-7e67ea077a97","color":"blue","value":"Revise"},{"id":"7abc61d4-b405-480d-b699-12588755fa65","color":"red","value":"Published"}]}},"icon":"🎟️","format":{"copied_from_pointer":{"id":"47ddddc3-991e-4ade-a7a4-a99e37f4d3ff","table":"collection","spaceId":"b3580129-1025-4b78-9e73-0a6f39f464ab"},"collection_page_properties":[{"visible":false,"property":"NX\\Q"},{"visible":false,"property":"d]hq"},{"visible":false,"property":"f211bdc0-ee00-4186-9a7d-f68c055ec2ee"},{"visible":false,"property":"sD^m"},{"visible":false,"property":"wz|S"},{"visible":false,"property":"`gQ~"}]},"parent_id":"0eb813c6-179c-43e0-8c12-27cc22341e33","parent_table":"block","alive":true,"file_ids":["6cf3dc36-2f98-4f0e-9679-1bdbb1485129","5520bd92-e709-4c0d-ad58-06923f23f7e9","624d393a-62e3-4464-a1bf-1c79ecd4fbda","d52f6766-3e32-4c3d-8529-46e1f214360f"],"copied_from":"47ddddc3-991e-4ade-a7a4-a99e37f4d3ff","migrated":true,"space_id":"01ff42de-5b53-40d7-a69e-999e3574e640"},"role":"reader"}},"space":{},"collection_view":{"1df80a31-46e8-4fcd-b9a3-dde8ded944c9":{"value":{"id":"1df80a31-46e8-4fcd-b9a3-dde8ded944c9","version":11,"type":"table","name":"Default view","format":{"table_wrap":false,"table_properties":[{"width":416,"visible":true,"property":"title"},{"width":186,"visible":true,"property":"d]hq"},{"width":145,"visible":true,"property":"NX\\Q"},{"width":147,"visible":true,"property":"wz|S"},{"width":222,"visible":true,"property":"sD^m"},{"width":124,"visible":true,"property":"f211bdc0-ee00-4186-9a7d-f68c055ec2ee"},{"width":100,"visible":true,"property":"`gQ~"}],"table_frozen_column_index":-1},"parent_id":"0eb813c6-179c-43e0-8c12-27cc22341e33","parent_table":"block","alive":true,"page_sort":["b1e1d645-db95-42e5-8995-39a80eda6460","e8cd3732-dc1c-43ae-959a-a5a611ec098a","e876558d-e878-47f6-8c95-21be678990a5","5a971ded-d3c5-41be-bef9-ddfff48d43a2","8db8b240-e1c5-4dd7-bf74-72584d7a2ce0","daf94ca4-ec56-47a3-84ed-b1e2479acc4b","d1a2db9b-6820-421e-9b80-017ce7478587","67ea9f83-b9f6-416b-afcb-7c64f7533e6c","45939470-9819-47e8-b12b-999cfefa0aad","c60dc33d-8efb-44be-a863-7a87ad047932","fe4b8d5f-7c49-42c6-a7d5-1cb71c4f7e86","b7233a67-c367-4198-831e-f12089568d1f","4f3bf306-92c4-41b7-a43e-957129a1240a","6a789607-66cf-498e-9b32-eb3fa69a84f4","c9429034-dabd-4a25-8782-97f20c808a60","38c49fe2-37f8-4a7f-a99f-9edb9ddad4c2","474eb638-9f6b-46bf-8004-77668293f199","81d6dfab-69cb-43a0-aa04-e9725f0b67e1","7703d956-84db-46cd-b538-48eae1af68b5","9f937c73-dac9-4ed7-9b01-beefcb321f16","3cf9dcb9-e7db-406c-80ab-c65c11fbf906","5827ab53-e051-455b-b90a-3bdc20158c2c","fa7acd3b-dea9-4fb1-b859-5345f35163c6","696dfc48-62c3-494d-96d0-ec5fa84637e8","79df93cf-9b10-452e-bc62-f39e8cd2d124","9bb8e52d-c459-4528-b1b3-c2378207253a","5da038ef-f419-4a11-aa48-587b3787e040","b4a2c9d4-6a2c-49e6-988d-89a538dfe0f6","c374a479-5cc7-4c54-ba69-6a4d76dc25ad","d470fa67-0e7c-40d8-86ac-9b5a8be88dc8","986be38b-9780-4bb9-bdcd-4e361ddbd888","b7613f56-c2d4-4aae-b967-b7471ade86d0","e357d1fc-7466-4d6a-8d48-71b76ea97cdc","e1735855-4089-4af6-bd4d-0d59f7a76cb4","9b34581a-955a-4229-99d0-8f2a6d0e69ce","b4414811-0599-45cf-b047-fa95eac42d89","c28a8a01-911a-40a2-a607-d3af8cb24017","461d07ae-4b4a-49de-bdcb-341af1153201","3df59023-cb68-4a65-afd1-7f0b8c21cb57","0e3223d1-03df-40fb-90f9-cc8559d776b5","4f45b7d6-cd5b-46ab-b2a6-37ae20bf5f21","fa475a21-5f38-43d4-9a89-67c40b3129ae","97cbc634-fe3a-4b9b-9da6-ac4aaa94772f","8a0d34bc-7e8c-4a68-88a5-5276274f612a","623f8788-a20f-45fd-bb82-08935f59b44d","7ee398f0-450b-47cb-9b53-f5e7736590d2","eae9f077-591e-4841-903b-db395513c834","367d0f2a-0b10-4dbb-b53a-613152f124f9","398e2e28-3997-49bc-a138-0467d4da8531","8aaf4633-e879-44dc-82c8-3c9fb9d3a6f8","1eb5e5f2-8dc9-4ffc-b5e1-09b67be27a83","83465fb9-205b-41fc-83a6-424692ee0a0e","fb1d18d0-6403-4e8a-840e-134553748ff5","4407cb77-3838-4ba5-b474-f15222cd3dba","1880b0f2-e036-42d0-9550-0fb08a962397","d8d60bd6-33f6-458f-a7d6-209ef2fb05a1","29bf65ff-888b-4a76-a8dd-bf54f02c3864","bad1d4ae-fd4a-4671-ae94-dd53d94e0eae","0d59792d-db1c-4ae7-8d7c-4f013be40dcf","337dc259-2805-4b1c-a60f-1b3e6c7badb8","4b1b21a8-c278-4bc6-88f1-1a35d407f4d7","7946aba2-d6d0-45ef-8779-23fa15db8f2d","c18dbce6-9e8c-4f4b-b74a-0994e7c1bc3f","84aa87b7-39e7-493c-87b9-5cae4de95449","1446eadb-8c01-4295-be3a-ecf19361c143","fe8a7d94-e9ba-457d-8f19-10fe53e6ca3c","98a5a0b6-b07b-4065-a73f-2949ad28ac47","6efcebe0-a779-4ec2-a1cb-f77acbb36bf6","c62e81a1-03a9-4b5c-9a55-4e56867de3e4","5514a197-e266-4487-a3ce-95ae17f26bdb","51f3b1a2-a3d5-468a-b552-70d7b0c1a9cb","baacb561-6a62-4343-9e6a-bc1bba469a9c","9ca0671d-b580-4105-825c-d8ef4c531d84","d11cc5a5-b975-4a3a-9d78-739e3680b3fa","98540d41-1879-4bea-9bdf-fa17af5cc06e","f24edd31-035d-4744-9275-118e8751f2f9","975051d4-ebbc-4b3f-98cf-1a52e5e4761d","e5d98bee-b2d5-4b45-ab0b-b77da24aebe7","acac2668-1062-4e7a-b095-eda067da8413","179025c4-d8a8-4c47-b621-9fd6a6f3339b","d256e5ed-5eac-43bb-a32e-581774962c23","59520f7f-1fe9-4c70-b059-8655b93e85df","5692c8b3-efa6-4f19-ab2e-4574afc33f46","9c40a253-b9e8-42cd-8a99-62aaa9789a5e","fd348e41-3e72-42d2-8425-be67e8586a28","3128120c-366d-4937-a28a-f18a446f249b","a1d00689-b6f7-418b-888e-0b47edc21286","090eeb36-6c03-462f-9ada-d544c584641f","e97e229c-7a7c-4ce6-81f7-2cf8700e22ab","926771d9-3aab-4640-8dec-b1202f54aa69","b9a5c48f-1b00-4ae9-94bc-f683d6b393ad","30602d25-a696-40ee-b0fa-c252403391cf","a5da67e2-2ac7-4c3a-8833-50d78f853f9b","cf2532d2-7c86-4027-ae70-a81784ff4769","c1e63240-b7fe-4e0e-b753-78a9210b7779","81581b92-d191-4010-8c4f-e2c0e0b4a4ee","69e2cb5f-2c4a-408a-95b5-9d03f8ccfab3","b5b9b1d9-377b-4053-b110-988a9ec54af7","9a223272-0900-4cc3-a503-2515824da515","7c88ce0f-c4be-4335-abfe-adaaa2c6c99e","79bf7035-9dfd-4193-b7d1-cd578a30ac85","a453aa9d-324d-448f-94f0-c8adb4692241","1030c439-2997-45a7-90ca-f2df5de62e3e","1235234b-cfee-4611-8a9b-c6b32b379585","710ff2f6-c05e-4403-b72a-512bb27ab51f","019d0c55-59ee-4247-90c8-5f9017c37ba5","d105e4c2-dfdb-4c58-b8f5-54e182894431","95585600-97d8-4d2c-bf0c-6b9164dbee54","51e53e64-e6dd-4fd6-8062-5d4455f0a1cb","f4ec684b-e5f1-44e9-a8a7-aca27f7ca6f3","177fa228-9099-4dd5-8969-c67f9c78bd0c","d5ab0d7a-0123-473f-84d4-81740defb9b4","548f6d36-c509-4b79-9c4b-59f227c7f550","c0901673-4f5e-4e51-ad87-0217f2d33a0c","0787f8d6-dc99-47c6-946e-2b008814bebc","0ade5216-1103-486a-aff0-a709ff825b02","a2c4dd21-985c-497d-b421-c2d8a9ec0eeb","908a498c-f7e3-4668-8afd-f179a027b4d9","4945e5c3-033d-467c-a8b3-b1479c1fdf0a","854f4584-28d5-43bd-938e-88d0957c78e3","6a6574f8-d63d-4fed-99c5-38f3df0364ac"],"query2":{"filter":{"operator":"and"},"aggregations":[{"property":"title","aggregator":"count"}]},"space_id":"01ff42de-5b53-40d7-a69e-999e3574e640"},"role":"reader"}},"notion_user":{},"collection_query":{},"signed_urls":{}},"emailHash":"568c024e516219d57a6ef037a7cc3d32"},"__N_SSG":true},"page":"/[slug]","query":{"slug":"path-middle2"},"buildId":"pLVj_ZB4irF9cq-SHm4_w","assetPrefix":"/nobelium","runtimeConfig":{"basePath":"/nobelium","assetPrefix":"/nobelium/"},"isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>